
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>GEE Image Objects &#8212; GEE book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '2_eeImage';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to the GEE Book" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="GEE book - Home"/>
    <img src="_static/logo.png" class="logo__image only-dark pst-js-only" alt="GEE book - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to the GEE Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">GEE Image Objects</a></li>














</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2F2_eeImage.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/2_eeImage.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>GEE Image Objects</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">GEE Image Objects</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#image-overview">1. Image Overview</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#image-vizualization">2. Image Vizualization</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#masking">Masking</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clipping">Clipping</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rendering-categorical-maps">Rendering categorical maps</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#image-information-and-metadata">3. Image information and metadata</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mathematical-expressions">4. Mathematical Expressions</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#expressions">Expressions</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#relational-conditional-and-boolean-operations">5. Relational, conditional and Boolean operations</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#convolutions">6. Convolutions</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#morphological-operations">7. Morphological Operations</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#gradients">8. Gradients</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#edge-detection">9. Edge Detection</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#spectral-transformations">10. Spectral Transformations</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#texture">11. Texture</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#object-based-methods">12. Object-based Methods</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cumulative-cost-mapping">13. Cumulative Cost Mapping</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#registering-images">14. Registering Images</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#image-displacement">Image displacement</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#warping-an-image">Warping an image</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <!--COURSE_INFORMATION-->
<img align="left" style="padding-right:10px;" src="https://sitejerk.com/images/google-earth-logo-png-5.png" width=5% >
<img align="right" style="padding-left:10px;" src="https://colab.research.google.com/img/colab_favicon_256px.png" width=6% >
<blockquote>
<div><blockquote>
<div><p><em>This notebook is part of the free course <a class="reference external" href="https://colab.research.google.com/github/csaybar/EEwPython/blob/master/index.ipynb">EEwPython</a>; the content is available <a class="reference external" href="https://github.com/csaybar/EEwPython">on GitHub</a></em> and released under the <a class="reference external" href="https://www.gnu.org/licenses/gpl-3.0.en.html">Apache 2.0 License</a>. 99% of this material has been adapted from <a class="reference external" href="https://developers.google.com/earth-engine/">Google Earth Engine Guides</a>.</p>
</div></blockquote>
</div></blockquote>
<!--NAVIGATION-->
<p>&lt; <a class="reference internal" href="#1_Introduction.ipynb"><span class="xref myst">Developer’s Guide</span></a> | <a class="reference internal" href="#index.ipynb"><span class="xref myst">Contents</span></a> |  <a class="reference internal" href="#3_eeImageCollection.ipynb"><span class="xref myst">ImageCollection</span></a>&gt;</p>
<p><a href="https://colab.research.google.com/github/csaybar/EEwPython/blob/master/3_eeImageCollection.ipynb"><img align="left" src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open in Colab" title="Open and Execute in Google Colaboratory"></a></p>
<center>
<h1>Google Earth Engine with Python </h1>
<h2> GEE Image objects</h2>
</center>
<h2> Topics:</h2>
<ol class="arabic simple">
<li><p>Image Overview</p></li>
<li><p>Image Visualization</p></li>
<li><p>Image information and metadata</p></li>
<li><p>Mathematical Expressions</p></li>
<li><p>Relational, conditional and Boolean operations</p></li>
<li><p>Convolutions</p></li>
<li><p>Morphological Operations</p></li>
<li><p>Gradients</p></li>
<li><p>Edge Detection</p></li>
<li><p>Spectral Transformations</p></li>
<li><p>Texture</p></li>
<li><p>Object-based Methods</p></li>
<li><p>Cumulative Cost Mapping</p></li>
<li><p>Registering Images</p></li>
</ol>
<section class="tex2jax_ignore mathjax_ignore" id="gee-image-objects">
<h1>GEE Image Objects<a class="headerlink" href="#gee-image-objects" title="Link to this heading">#</a></h1>
<p>Updated by IALS - 25.10.2024</p>
<p>Raster data are represented as Image objects in Earth Engine. Images are composed of one or more bands and each band has its own name, data type, scale, mask and projection. Each image can have metadata stored as a set of properties (Dictionary).</p>
<p>First of all, run the following cells to import and initialize the GEE Python API. The output will contain instructions on how to grant this notebook access to Earth Engine using your account.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ee</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#uncomment and change name of Google Cloud project</span>
<span class="c1">#ee.Initialize(project=&#39;ee-yourproject&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">folium</span>

<span class="c1"># Define the URL format used for Earth Engine generated map tiles.</span>
<span class="n">EE_TILES</span> <span class="o">=</span> <span class="s1">&#39;https://earthengine.googleapis.com/map/</span><span class="si">{mapid}</span><span class="s1">/{{z}}/{{x}}/{{y}}?token=</span><span class="si">{token}</span><span class="s1">&#39;</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Folium version: &#39;</span> <span class="o">+</span> <span class="n">folium</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Folium version: 0.18.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#@title Mapdisplay: Display GEE objects using folium.</span>
<span class="k">def</span> <span class="nf">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">dicc</span><span class="p">,</span> <span class="n">Tiles</span><span class="o">=</span><span class="s2">&quot;OpensTreetMap&quot;</span><span class="p">,</span><span class="n">zoom_start</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    :param center: Center of the map (Latitude and Longitude).</span>
<span class="sd">    :param dicc: Earth Engine Geometries or Tiles dictionary</span>
<span class="sd">    :param Tiles: Mapbox Bright,Mapbox Control Room,Stamen Terrain,Stamen Toner,stamenwatercolor,cartodbpositron.</span>
<span class="sd">    :zoom_start: Initial zoom level for the map.</span>
<span class="sd">    :return: A folium.Map object.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">mapViz</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="n">center</span><span class="p">,</span><span class="n">tiles</span><span class="o">=</span><span class="n">Tiles</span><span class="p">,</span> <span class="n">zoom_start</span><span class="o">=</span><span class="n">zoom_start</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">dicc</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
      <span class="k">if</span> <span class="n">ee</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">Image</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">values</span><span class="p">()]:</span>
        <span class="n">folium</span><span class="o">.</span><span class="n">TileLayer</span><span class="p">(</span>
            <span class="n">tiles</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;tile_fetcher&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">url_format</span><span class="p">,</span>
            <span class="n">attr</span>  <span class="o">=</span> <span class="s1">&#39;Google Earth Engine&#39;</span><span class="p">,</span>
            <span class="n">overlay</span> <span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">name</span>  <span class="o">=</span> <span class="n">k</span>
          <span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">mapViz</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">folium</span><span class="o">.</span><span class="n">GeoJson</span><span class="p">(</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">v</span><span class="p">,</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">k</span>
          <span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">mapViz</span><span class="p">)</span>
    <span class="n">mapViz</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">folium</span><span class="o">.</span><span class="n">LayerControl</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">mapViz</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="image-overview">
<h1>1. Image Overview<a class="headerlink" href="#image-overview" title="Link to this heading">#</a></h1>
<p>In addition to loading images from the archive by an <strong>image ID</strong>, you can also create images from constants, lists or other suitable Earth Engine objects. This section illustrates methods for creating images, getting band subsets, and manipulating bands.</p>
<p>Methods that you will use in this seccion:</p>
<ul class="simple">
<li><p><strong>ee.Image.cat</strong></p></li>
<li><p><strong>ee.Image.addBands</strong></p></li>
<li><p><strong>ee.Image.Select</strong></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2.1 Create a constant image.</span>
<span class="n">image1</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">image1</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">image1</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">EEException</span><span class="g g-Whitespace">                               </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># 2.1 Create a constant image.</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">image1</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="nb">print</span><span class="p">(</span><span class="n">image1</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">image1</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/gee-python-ux0q8Gst-py3.12/lib/python3.12/site-packages/ee/computedobject.py:28,</span> in <span class="ni">ComputedObjectMetaclass.__call__</span><span class="nt">(cls, *args, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">26</span>   <span class="k">return</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">27</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">28</span>   <span class="k">return</span> <span class="nb">type</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/gee-python-ux0q8Gst-py3.12/lib/python3.12/site-packages/ee/deprecation.py:124,</span> in <span class="ni">WarnForDeprecatedAsset.&lt;locals&gt;.Decorator.&lt;locals&gt;.Wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">122</span>   <span class="k">if</span> <span class="n">asset</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">123</span>     <span class="n">_IssueAssetDeprecationWarning</span><span class="p">(</span><span class="n">asset</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">124</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/gee-python-ux0q8Gst-py3.12/lib/python3.12/site-packages/ee/image.py:75,</span> in <span class="ni">Image.__init__</span><span class="nt">(self, args, version)</span>
<span class="g g-Whitespace">     </span><span class="mi">54</span> <span class="nd">@deprecation</span><span class="o">.</span><span class="n">WarnForDeprecatedAsset</span><span class="p">(</span><span class="s1">&#39;args&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">55</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">56</span>     <span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="g g-Whitespace">     </span><span class="mi">57</span> <span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">58</span><span class="w">   </span><span class="sd">&quot;&quot;&quot;Constructs an Earth Engine image.</span>
<span class="g g-Whitespace">     </span><span class="mi">59</span><span class="sd"> </span>
<span class="g g-Whitespace">     </span><span class="mi">60</span><span class="sd">   Args:</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">     </span><span class="mi">73</span><span class="sd">     EEException: if passed something other than the above.</span>
<span class="g g-Whitespace">     </span><span class="mi">74</span><span class="sd">   &quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">75</span>   <span class="bp">self</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">77</span>   <span class="k">if</span> <span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">78</span>     <span class="k">if</span> <span class="n">ee_types</span><span class="o">.</span><span class="n">isString</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ee_types</span><span class="o">.</span><span class="n">isNumber</span><span class="p">(</span><span class="n">version</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">79</span>       <span class="c1"># An ID and version.</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/gee-python-ux0q8Gst-py3.12/lib/python3.12/site-packages/ee/image.py:121,</span> in <span class="ni">Image.initialize</span><span class="nt">(cls)</span>
<span class="g g-Whitespace">    </span><span class="mi">119</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Imports API functions to this class.&quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">120</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_initialized</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">121</span>   <span class="n">apifunction</span><span class="o">.</span><span class="n">ApiFunction</span><span class="o">.</span><span class="n">importApi</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span> <span class="bp">cls</span><span class="o">.</span><span class="n">name</span><span class="p">())</span>
<span class="g g-Whitespace">    </span><span class="mi">122</span>   <span class="bp">cls</span><span class="o">.</span><span class="n">_initialized</span> <span class="o">=</span> <span class="kc">True</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/gee-python-ux0q8Gst-py3.12/lib/python3.12/site-packages/ee/_utils.py:38,</span> in <span class="ni">accept_opt_prefix.&lt;locals&gt;.opt_fixed.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">36</span>     <span class="k">if</span> <span class="n">new_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">37</span>       <span class="n">kwargs</span><span class="p">[</span><span class="n">new_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">old_key_val</span>
<span class="ne">---&gt; </span><span class="mi">38</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/gee-python-ux0q8Gst-py3.12/lib/python3.12/site-packages/ee/apifunction.py:197,</span> in <span class="ni">ApiFunction.importApi</span><span class="nt">(cls, target, prefix, type_name, prepend)</span>
<span class="g g-Whitespace">    </span><span class="mi">177</span> <span class="nd">@classmethod</span>
<span class="g g-Whitespace">    </span><span class="mi">178</span> <span class="nd">@_utils</span><span class="o">.</span><span class="n">accept_opt_prefix</span><span class="p">(</span><span class="s1">&#39;opt_prepend&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">179</span> <span class="k">def</span> <span class="nf">importApi</span><span class="p">(</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">184</span>     <span class="n">prepend</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">185</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">186</span><span class="w">   </span><span class="sd">&quot;&quot;&quot;Adds all API functions that begin with a given prefix to a target class.</span>
<span class="g g-Whitespace">    </span><span class="mi">187</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">188</span><span class="sd">   Args:</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">    </span><span class="mi">195</span><span class="sd">       functions.</span>
<span class="g g-Whitespace">    </span><span class="mi">196</span><span class="sd">   &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">197</span>   <span class="bp">cls</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">198</span>   <span class="n">prepend</span> <span class="o">=</span> <span class="n">prepend</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>
<span class="g g-Whitespace">    </span><span class="mi">199</span>   <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">api_func</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/gee-python-ux0q8Gst-py3.12/lib/python3.12/site-packages/ee/apifunction.py:161,</span> in <span class="ni">ApiFunction.initialize</span><span class="nt">(cls)</span>
<span class="g g-Whitespace">    </span><span class="mi">159</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Initializes the list of signatures from the Earth Engine front-end.&quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">160</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_api</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">161</span>   <span class="n">signatures</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">getAlgorithms</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">162</span>   <span class="n">api</span> <span class="o">=</span> <span class="p">{}</span>
<span class="g g-Whitespace">    </span><span class="mi">163</span>   <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">sig</span> <span class="ow">in</span> <span class="n">signatures</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="g g-Whitespace">    </span><span class="mi">164</span>     <span class="c1"># Strip type parameters.</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/gee-python-ux0q8Gst-py3.12/lib/python3.12/site-packages/ee/data.py:1479,</span> in <span class="ni">getAlgorithms</span><span class="nt">()</span>
<span class="g g-Whitespace">   </span><span class="mi">1462</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Get the list of algorithms.</span>
<span class="g g-Whitespace">   </span><span class="mi">1463</span><span class="sd"> </span>
<span class="g g-Whitespace">   </span><span class="mi">1464</span><span class="sd"> Returns:</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">   </span><span class="mi">1475</span><span class="sd">               is not specified.</span>
<span class="g g-Whitespace">   </span><span class="mi">1476</span><span class="sd"> &quot;&quot;&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1477</span> <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1478</span>   <span class="n">call</span> <span class="o">=</span> <span class="p">(</span>
<span class="ne">-&gt; </span><span class="mi">1479</span>       <span class="n">_get_cloud_projects</span><span class="p">()</span>
<span class="g g-Whitespace">   </span><span class="mi">1480</span>       <span class="o">.</span><span class="n">algorithms</span><span class="p">()</span>
<span class="g g-Whitespace">   </span><span class="mi">1481</span>       <span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">_get_projects_path</span><span class="p">(),</span> <span class="n">prettyPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1482</span>   <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1483</span> <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1484</span>   <span class="n">call</span> <span class="o">=</span> <span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1485</span>       <span class="n">_get_cloud_projects</span><span class="p">()</span>
<span class="g g-Whitespace">   </span><span class="mi">1486</span>       <span class="o">.</span><span class="n">algorithms</span><span class="p">()</span>
<span class="g g-Whitespace">   </span><span class="mi">1487</span>       <span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="n">_get_projects_path</span><span class="p">(),</span> <span class="n">prettyPrint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1488</span>   <span class="p">)</span>

<span class="nn">File ~/.cache/pypoetry/virtualenvs/gee-python-ux0q8Gst-py3.12/lib/python3.12/site-packages/ee/data.py:350,</span> in <span class="ni">_get_cloud_projects</span><span class="nt">()</span>
<span class="g g-Whitespace">    </span><span class="mi">348</span> <span class="k">def</span> <span class="nf">_get_cloud_projects</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">349</span>   <span class="k">if</span> <span class="n">_cloud_api_resource</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">350</span>     <span class="k">raise</span> <span class="n">ee_exception</span><span class="o">.</span><span class="n">EEException</span><span class="p">(</span><span class="n">_NOT_INITIALIZED_MESSAGE</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">351</span>   <span class="k">return</span> <span class="n">_cloud_api_resource</span><span class="o">.</span><span class="n">projects</span><span class="p">()</span>

<span class="ne">EEException</span>: Earth Engine client library not initialized. See http://goo.gle/ee-auth.
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><strong>ee.Image.cat(list)</strong>: Concatenate the given images together into a single image.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#2.2 Concatenate two images into one multi-band image.</span>
<span class="n">image2</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">image3</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">image1</span><span class="p">,</span> <span class="n">image2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">image3</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">image3</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ee.Image({
  &quot;functionInvocationValue&quot;: {
    &quot;functionName&quot;: &quot;Image.addBands&quot;,
    &quot;arguments&quot;: {
      &quot;dstImg&quot;: {
        &quot;functionInvocationValue&quot;: {
          &quot;functionName&quot;: &quot;Image.constant&quot;,
          &quot;arguments&quot;: {
            &quot;value&quot;: {
              &quot;constantValue&quot;: 1
            }
          }
        }
      },
      &quot;srcImg&quot;: {
        &quot;functionInvocationValue&quot;: {
          &quot;functionName&quot;: &quot;Image.constant&quot;,
          &quot;arguments&quot;: {
            &quot;value&quot;: {
              &quot;constantValue&quot;: 2
            }
          }
        }
      }
    }
  }
}) 
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;type&#39;: &#39;Image&#39;,
 &#39;bands&#39;: [{&#39;id&#39;: &#39;constant&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;int&#39;, &#39;min&#39;: 1, &#39;max&#39;: 1},
   &#39;crs&#39;: &#39;EPSG:4326&#39;,
   &#39;crs_transform&#39;: [1, 0, 0, 0, 1, 0]},
  {&#39;id&#39;: &#39;constant_1&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;int&#39;, &#39;min&#39;: 2, &#39;max&#39;: 2},
   &#39;crs&#39;: &#39;EPSG:4326&#39;,
   &#39;crs_transform&#39;: [1, 0, 0, 0, 1, 0]}]}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a multi-band image from a list of constants.</span>
<span class="n">multiband</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">multiband</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">multiband</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ee.Image({
  &quot;functionInvocationValue&quot;: {
    &quot;functionName&quot;: &quot;Image.addBands&quot;,
    &quot;arguments&quot;: {
      &quot;dstImg&quot;: {
        &quot;functionInvocationValue&quot;: {
          &quot;functionName&quot;: &quot;Image.addBands&quot;,
          &quot;arguments&quot;: {
            &quot;dstImg&quot;: {
              &quot;functionInvocationValue&quot;: {
                &quot;functionName&quot;: &quot;Image.constant&quot;,
                &quot;arguments&quot;: {
                  &quot;value&quot;: {
                    &quot;constantValue&quot;: 1
                  }
                }
              }
            },
            &quot;srcImg&quot;: {
              &quot;functionInvocationValue&quot;: {
                &quot;functionName&quot;: &quot;Image.constant&quot;,
                &quot;arguments&quot;: {
                  &quot;value&quot;: {
                    &quot;constantValue&quot;: 2
                  }
                }
              }
            }
          }
        }
      },
      &quot;srcImg&quot;: {
        &quot;functionInvocationValue&quot;: {
          &quot;functionName&quot;: &quot;Image.constant&quot;,
          &quot;arguments&quot;: {
            &quot;value&quot;: {
              &quot;constantValue&quot;: 3
            }
          }
        }
      }
    }
  }
}) 
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;type&#39;: &#39;Image&#39;,
 &#39;bands&#39;: [{&#39;id&#39;: &#39;constant&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;int&#39;, &#39;min&#39;: 1, &#39;max&#39;: 1},
   &#39;crs&#39;: &#39;EPSG:4326&#39;,
   &#39;crs_transform&#39;: [1, 0, 0, 0, 1, 0]},
  {&#39;id&#39;: &#39;constant_1&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;int&#39;, &#39;min&#39;: 2, &#39;max&#39;: 2},
   &#39;crs&#39;: &#39;EPSG:4326&#39;,
   &#39;crs_transform&#39;: [1, 0, 0, 0, 1, 0]},
  {&#39;id&#39;: &#39;constant_2&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;int&#39;, &#39;min&#39;: 3, &#39;max&#39;: 3},
   &#39;crs&#39;: &#39;EPSG:4326&#39;,
   &#39;crs_transform&#39;: [1, 0, 0, 0, 1, 0]}]}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select and (optionally) rename bands.</span>
<span class="n">renamed</span> <span class="o">=</span> <span class="n">multiband</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s1">&#39;constant&#39;</span><span class="p">,</span> <span class="s1">&#39;constant_1&#39;</span><span class="p">,</span> <span class="s1">&#39;constant_2&#39;</span><span class="p">],</span>
                           <span class="p">[</span><span class="s1">&#39;band1&#39;</span><span class="p">,</span> <span class="s1">&#39;band2&#39;</span><span class="p">,</span> <span class="s1">&#39;band3&#39;</span><span class="p">])</span>
<span class="n">renamed</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;type&#39;: &#39;Image&#39;,
 &#39;bands&#39;: [{&#39;id&#39;: &#39;band1&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;int&#39;, &#39;min&#39;: 1, &#39;max&#39;: 1},
   &#39;crs&#39;: &#39;EPSG:4326&#39;,
   &#39;crs_transform&#39;: [1, 0, 0, 0, 1, 0]},
  {&#39;id&#39;: &#39;band2&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;int&#39;, &#39;min&#39;: 2, &#39;max&#39;: 2},
   &#39;crs&#39;: &#39;EPSG:4326&#39;,
   &#39;crs_transform&#39;: [1, 0, 0, 0, 1, 0]},
  {&#39;id&#39;: &#39;band3&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;int&#39;, &#39;min&#39;: 3, &#39;max&#39;: 3},
   &#39;crs&#39;: &#39;EPSG:4326&#39;,
   &#39;crs_transform&#39;: [1, 0, 0, 0, 1, 0]}]}
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><strong>ee.Image.addBands</strong>: Returns an image containing all bands copied from the first input and selected bands from the second input, optionally overwriting bands in the first image with the same name. The new image has the metadata and footprint from the first input image</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add bands to an image.</span>
<span class="n">image4</span> <span class="o">=</span> <span class="n">image3</span><span class="o">.</span><span class="n">addBands</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="mi">42</span><span class="p">))</span>
<span class="n">image4</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;type&#39;: &#39;Image&#39;,
 &#39;bands&#39;: [{&#39;id&#39;: &#39;constant&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;int&#39;, &#39;min&#39;: 1, &#39;max&#39;: 1},
   &#39;crs&#39;: &#39;EPSG:4326&#39;,
   &#39;crs_transform&#39;: [1, 0, 0, 0, 1, 0]},
  {&#39;id&#39;: &#39;constant_1&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;int&#39;, &#39;min&#39;: 2, &#39;max&#39;: 2},
   &#39;crs&#39;: &#39;EPSG:4326&#39;,
   &#39;crs_transform&#39;: [1, 0, 0, 0, 1, 0]},
  {&#39;id&#39;: &#39;constant_2&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: 42,
    &#39;max&#39;: 42},
   &#39;crs&#39;: &#39;EPSG:4326&#39;,
   &#39;crs_transform&#39;: [1, 0, 0, 0, 1, 0]}]}
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="image-vizualization">
<h1>2. Image Vizualization<a class="headerlink" href="#image-vizualization" title="Link to this heading">#</a></h1>
<p>The Python API  a difference than the Code Editor do not support interactive vizualization (<strong>Map.addLayer</strong>). To achieve desirable visualization effects you could use <strong>ee.Image.getThumbURL</strong> in replacement of Map.addLayer. Both  ee.Image.getThumbURL and Map.addLayer have the same parameters:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bands</p></td>
<td><p>Comma-delimited list of three band names to be mapped to RGB</p></td>
<td><p>list</p></td>
</tr>
<tr class="row-odd"><td><p>min</p></td>
<td><p>Value(s) to map to 0	number or list of three numbers, one for each</p></td>
<td><p>band</p></td>
</tr>
<tr class="row-even"><td><p>max</p></td>
<td><p>Value(s) to map to 255</p></td>
<td><p>number or list of three numbers, one for each band</p></td>
</tr>
<tr class="row-odd"><td><p>gain</p></td>
<td><p>Value(s) by which to multiply each pixel value</p></td>
<td><p>number or list of three numbers, one for each band</p></td>
</tr>
<tr class="row-even"><td><p>bias</p></td>
<td><p>Value(s) to add to each DN</p></td>
<td><p>number or list of three numbers, one for each band</p></td>
</tr>
<tr class="row-odd"><td><p>gamma</p></td>
<td><p>Gamma correction factor(s)</p></td>
<td><p>number or list of three numbers, one for each band</p></td>
</tr>
<tr class="row-even"><td><p>palette</p></td>
<td><p>List of CSS-style color strings (single-band images only)</p></td>
<td><p>comma-separated list of hex strings</p></td>
</tr>
<tr class="row-odd"><td><p>opacity</p></td>
<td><p>The opacity of the layer (0.0 is fully transparent and 1.0 is fully opaque)</p></td>
<td><p>number</p></td>
</tr>
<tr class="row-even"><td><p>format</p></td>
<td><p>Either “jpg” or “png”</p></td>
<td><p>string</p></td>
</tr>
</tbody>
</table>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load an image.</span>
<span class="c1"># The ID was obtained from the GEE console</span>
<span class="c1">#image = ee.Image(&#39;LANDSAT/LC08/C01/T1_TOA/LC08_044034_20140318&#39;)</span>
<span class="n">image</span> <span class="o">=</span>  <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC09/C02/T2_TOA/LC09_174111_20241014&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;type&#39;: &#39;Image&#39;,
 &#39;bands&#39;: [{&#39;id&#39;: &#39;B1&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B2&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B3&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B4&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B5&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B6&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B7&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B8&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [17381, 17261],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B9&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B10&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B11&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;QA_PIXEL&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: 0,
    &#39;max&#39;: 65535},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;QA_RADSAT&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: 0,
    &#39;max&#39;: 65535},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;SAA&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: -32768,
    &#39;max&#39;: 32767},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;SZA&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: -32768,
    &#39;max&#39;: 32767},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;VAA&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: -32768,
    &#39;max&#39;: 32767},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;VZA&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: -32768,
    &#39;max&#39;: 32767},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]}],
 &#39;version&#39;: 1729808240502847,
 &#39;id&#39;: &#39;LANDSAT/LC09/C02/T2_TOA/LC09_174111_20241014&#39;,
 &#39;properties&#39;: {&#39;RADIANCE_MULT_BAND_5&#39;: 0.0061559,
  &#39;RADIANCE_MULT_BAND_6&#39;: 0.0015302,
  &#39;RADIANCE_MULT_BAND_3&#39;: 0.011921,
  &#39;RADIANCE_MULT_BAND_4&#39;: 0.010044,
  &#39;RADIANCE_MULT_BAND_1&#39;: 0.012582,
  &#39;RADIANCE_MULT_BAND_2&#39;: 0.012922,
  &#39;WRS_TYPE&#39;: 2,
  &#39;K2_CONSTANT_BAND_11&#39;: 1198.3494,
  &#39;K2_CONSTANT_BAND_10&#39;: 1329.2405,
  &#39;system:footprint&#39;: {&#39;type&#39;: &#39;LinearRing&#39;,
   &#39;coordinates&#39;: [[0.11061256200851124, -75.31732099447206],
    [1.8343055349214237, -75.5111413103789],
    [3.7972091172241167, -75.71059807443865],
    [5.313974413205975, -74.69261599905526],
    [6.385376898811698, -73.87518494730885],
    [7.351929238490569, -73.05432590838078],
    [8.031456096414312, -72.42247268835244],
    [4.8361081089316125, -72.08929477276615],
    [0.7486678059303807, -71.56029113669071],
    [-2.395045128844183, -71.06579677819458],
    [-3.215360884521004, -71.5586067315579],
    [-6.11333277151115, -73.09971646257516],
    [-8.290996216775195, -74.0792325411123],
    [-6.518968789656839, -74.38538545121936],
    [-4.921040527409679, -74.63940567376596],
    [-3.270058668963146, -74.8813585364169],
    [-1.5662152128807827, -75.11061933919429],
    [0.11061256200851124, -75.31732099447206]]},
  &#39;REFLECTIVE_SAMPLES&#39;: 8691,
  &#39;SUN_AZIMUTH&#39;: 53.48197629,
  &#39;DATE_ACQUIRED&#39;: &#39;2024-10-14&#39;,
  &#39;ELLIPSOID&#39;: &#39;WGS84&#39;,
  &#39;STATION_ID&#39;: &#39;LGN&#39;,
  &#39;FALSE_NORTHING&#39;: 0,
  &#39;RESAMPLING_OPTION&#39;: &#39;CUBIC_CONVOLUTION&#39;,
  &#39;ORIENTATION&#39;: &#39;NORTH_UP&#39;,
  &#39;WRS_ROW&#39;: 111,
  &#39;RADIANCE_MULT_BAND_9&#39;: 0.0024061,
  &#39;TARGET_WRS_ROW&#39;: 111,
  &#39;RADIANCE_MULT_BAND_7&#39;: 0.00051562,
  &#39;RADIANCE_MULT_BAND_8&#39;: 0.011335,
  &#39;FALSE_EASTING&#39;: 0,
  &#39;IMAGE_QUALITY_TIRS&#39;: 9,
  &#39;CLOUD_COVER&#39;: 2.53,
  &#39;COLLECTION_CATEGORY&#39;: &#39;T2&#39;,
  &#39;GRID_CELL_SIZE_REFLECTIVE&#39;: 30,
  &#39;CLOUD_COVER_LAND&#39;: 2.53,
  &#39;COLLECTION_NUMBER&#39;: 2,
  &#39;IMAGE_QUALITY_OLI&#39;: 9,
  &#39;LANDSAT_SCENE_ID&#39;: &#39;LC91741112024288LGN00&#39;,
  &#39;WRS_PATH&#39;: 174,
  &#39;PANCHROMATIC_SAMPLES&#39;: 17381,
  &#39;PANCHROMATIC_LINES&#39;: 17261,
  &#39;REFLECTIVE_LINES&#39;: 8631,
  &#39;system:asset_size&#39;: 1154557290,
  &#39;system:index&#39;: &#39;LC09_174111_20241014&#39;,
  &#39;DATA_SOURCE_ELEVATION&#39;: &#39;RAMP&#39;,
  &#39;REFLECTANCE_ADD_BAND_1&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_2&#39;: -0.1,
  &#39;DATUM&#39;: &#39;WGS84&#39;,
  &#39;REFLECTANCE_ADD_BAND_3&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_4&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_5&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_6&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_7&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_8&#39;: -0.1,
  &#39;TRUE_SCALE_LAT&#39;: -71,
  &#39;system:time_end&#39;: 1728895214166,
  &#39;LANDSAT_PRODUCT_ID&#39;: &#39;LC09_L1GT_174111_20241014_20241014_02_T2&#39;,
  &#39;REFLECTANCE_ADD_BAND_9&#39;: -0.1,
  &#39;GRID_CELL_SIZE_PANCHROMATIC&#39;: 15,
  &#39;VERTICAL_LON_FROM_POLE&#39;: 0,
  &#39;RADIANCE_ADD_BAND_4&#39;: -50.21904,
  &#39;REFLECTANCE_MULT_BAND_7&#39;: 2e-05,
  &#39;system:time_start&#39;: 1728895214166,
  &#39;RADIANCE_ADD_BAND_5&#39;: -30.77935,
  &#39;REFLECTANCE_MULT_BAND_6&#39;: 2e-05,
  &#39;RADIANCE_ADD_BAND_6&#39;: -7.65075,
  &#39;REFLECTANCE_MULT_BAND_9&#39;: 2e-05,
  &#39;PROCESSING_SOFTWARE_VERSION&#39;: &#39;LPGS_16.4.0&#39;,
  &#39;RADIANCE_ADD_BAND_7&#39;: -2.5781,
  &#39;REFLECTANCE_MULT_BAND_8&#39;: 2e-05,
  &#39;RADIANCE_ADD_BAND_1&#39;: -62.90764,
  &#39;RADIANCE_ADD_BAND_2&#39;: -64.61124,
  &#39;RADIANCE_ADD_BAND_3&#39;: -59.60744,
  &#39;REFLECTANCE_MULT_BAND_1&#39;: 2e-05,
  &#39;RADIANCE_ADD_BAND_8&#39;: -56.67468,
  &#39;REFLECTANCE_MULT_BAND_3&#39;: 2e-05,
  &#39;RADIANCE_ADD_BAND_9&#39;: -12.03028,
  &#39;REFLECTANCE_MULT_BAND_2&#39;: 2e-05,
  &#39;REFLECTANCE_MULT_BAND_5&#39;: 2e-05,
  &#39;REFLECTANCE_MULT_BAND_4&#39;: 2e-05,
  &#39;THERMAL_LINES&#39;: 8631,
  &#39;GRID_CELL_SIZE_THERMAL&#39;: 30,
  &#39;NADIR_OFFNADIR&#39;: &#39;NADIR&#39;,
  &#39;RADIANCE_ADD_BAND_11&#39;: 0.1,
  &#39;REQUEST_ID&#39;: &#39;1946449_00003&#39;,
  &#39;EARTH_SUN_DISTANCE&#39;: 0.9973461,
  &#39;SCENE_CENTER_TIME&#39;: &#39;08:40:14.1667340Z&#39;,
  &#39;SUN_ELEVATION&#39;: 19.45743455,
  &#39;RADIANCE_ADD_BAND_10&#39;: 0.1,
  &#39;ROLL_ANGLE&#39;: 0,
  &#39;DATE_PRODUCT_GENERATED&#39;: 1728918454000,
  &#39;K1_CONSTANT_BAND_10&#39;: 799.0284,
  &#39;SATURATION_BAND_1&#39;: &#39;N&#39;,
  &#39;SATURATION_BAND_2&#39;: &#39;N&#39;,
  &#39;SATURATION_BAND_3&#39;: &#39;N&#39;,
  &#39;SATURATION_BAND_4&#39;: &#39;N&#39;,
  &#39;SATURATION_BAND_5&#39;: &#39;N&#39;,
  &#39;MAP_PROJECTION&#39;: &#39;PS&#39;,
  &#39;SATURATION_BAND_6&#39;: &#39;N&#39;,
  &#39;SENSOR_ID&#39;: &#39;OLI_TIRS&#39;,
  &#39;SATURATION_BAND_7&#39;: &#39;N&#39;,
  &#39;K1_CONSTANT_BAND_11&#39;: 475.6581,
  &#39;SATURATION_BAND_8&#39;: &#39;N&#39;,
  &#39;SATURATION_BAND_9&#39;: &#39;N&#39;,
  &#39;TARGET_WRS_PATH&#39;: 174,
  &#39;PROCESSING_LEVEL&#39;: &#39;L1GT&#39;,
  &#39;RADIANCE_MULT_BAND_11&#39;: 0.000349,
  &#39;RADIANCE_MULT_BAND_10&#39;: 0.00038,
  &#39;SPACECRAFT_ID&#39;: &#39;LANDSAT_9&#39;,
  &#39;THERMAL_SAMPLES&#39;: 8691}}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">apply_scale_factors</span><span class="p">(</span><span class="n">image</span><span class="p">):</span>
  <span class="n">optical_bands</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="mf">0.0000275</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="o">-</span><span class="mf">0.2</span><span class="p">)</span>
  <span class="c1">#thermal_band = image.select(&#39;ST_B6&#39;).multiply(0.00341802).add(149.0)</span>
  <span class="k">return</span> <span class="n">image</span><span class="o">.</span><span class="n">addBands</span><span class="p">(</span><span class="n">optical_bands</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nimage</span> <span class="o">=</span> <span class="n">apply_scale_factors</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nimage</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()[</span><span class="s1">&#39;bands&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&#39;id&#39;: &#39;B1&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;B2&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;B3&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;B4&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;B5&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;B6&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;B7&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;B8&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
  &#39;dimensions&#39;: [17381, 17261],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;B9&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;B10&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;B11&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;QA_PIXEL&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
   &#39;precision&#39;: &#39;int&#39;,
   &#39;min&#39;: 0,
   &#39;max&#39;: 65535},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;QA_RADSAT&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
   &#39;precision&#39;: &#39;int&#39;,
   &#39;min&#39;: 0,
   &#39;max&#39;: 65535},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;SAA&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
   &#39;precision&#39;: &#39;int&#39;,
   &#39;min&#39;: -32768,
   &#39;max&#39;: 32767},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;SZA&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
   &#39;precision&#39;: &#39;int&#39;,
   &#39;min&#39;: -32768,
   &#39;max&#39;: 32767},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;VAA&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
   &#39;precision&#39;: &#39;int&#39;,
   &#39;min&#39;: -32768,
   &#39;max&#39;: 32767},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
 {&#39;id&#39;: &#39;VZA&#39;,
  &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
   &#39;precision&#39;: &#39;int&#39;,
   &#39;min&#39;: -32768,
   &#39;max&#39;: 32767},
  &#39;dimensions&#39;: [8691, 8631],
  &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
  &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]}]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nimage</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;type&#39;: &#39;Image&#39;,
 &#39;bands&#39;: [{&#39;id&#39;: &#39;B1&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B2&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B3&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B4&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B5&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B6&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B7&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B8&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
   &#39;dimensions&#39;: [17381, 17261],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B9&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;double&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B10&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;B11&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;QA_PIXEL&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: 0,
    &#39;max&#39;: 65535},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;QA_RADSAT&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: 0,
    &#39;max&#39;: 65535},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;SAA&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: -32768,
    &#39;max&#39;: 32767},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;SZA&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: -32768,
    &#39;max&#39;: 32767},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;VAA&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: -32768,
    &#39;max&#39;: 32767},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]},
  {&#39;id&#39;: &#39;VZA&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: -32768,
    &#39;max&#39;: 32767},
   &#39;dimensions&#39;: [8691, 8631],
   &#39;crs&#39;: &#39;PROJCS[&quot;PS         WGS84&quot;, \n  GEOGCS[&quot;WGS 84&quot;, \n    DATUM[&quot;WGS_1984&quot;, \n      SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563]], \n    PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], \n    UNIT[&quot;degree&quot;, 0.017453292519943295], \n    AXIS[&quot;Longitude&quot;, EAST], \n    AXIS[&quot;Latitude&quot;, NORTH], \n    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], \n  PROJECTION[&quot;Polar_Stereographic&quot;], \n  PARAMETER[&quot;central_meridian&quot;, 0.0], \n  PARAMETER[&quot;latitude_of_origin&quot;, -71.0], \n  PARAMETER[&quot;scale_factor&quot;, 1.0], \n  PARAMETER[&quot;false_easting&quot;, 0.0], \n  PARAMETER[&quot;false_northing&quot;, 0.0], \n  UNIT[&quot;m&quot;, 1.0], \n  AXIS[&quot;Easting&quot;, EAST], \n  AXIS[&quot;Northing&quot;, NORTH]]&#39;,
   &#39;crs_transform&#39;: [30, 0, -251715, 0, -30, 2073915]}],
 &#39;version&#39;: 1729808240502847,
 &#39;id&#39;: &#39;LANDSAT/LC09/C02/T2_TOA/LC09_174111_20241014&#39;,
 &#39;properties&#39;: {&#39;RADIANCE_MULT_BAND_5&#39;: 0.0061559,
  &#39;RADIANCE_MULT_BAND_6&#39;: 0.0015302,
  &#39;RADIANCE_MULT_BAND_3&#39;: 0.011921,
  &#39;RADIANCE_MULT_BAND_4&#39;: 0.010044,
  &#39;RADIANCE_MULT_BAND_1&#39;: 0.012582,
  &#39;RADIANCE_MULT_BAND_2&#39;: 0.012922,
  &#39;WRS_TYPE&#39;: 2,
  &#39;K2_CONSTANT_BAND_11&#39;: 1198.3494,
  &#39;K2_CONSTANT_BAND_10&#39;: 1329.2405,
  &#39;system:footprint&#39;: {&#39;type&#39;: &#39;LinearRing&#39;,
   &#39;coordinates&#39;: [[0.11061256200851124, -75.31732099447206],
    [1.8343055349214237, -75.5111413103789],
    [3.7972091172241167, -75.71059807443865],
    [5.313974413205975, -74.69261599905526],
    [6.385376898811698, -73.87518494730885],
    [7.351929238490569, -73.05432590838078],
    [8.031456096414312, -72.42247268835244],
    [4.8361081089316125, -72.08929477276615],
    [0.7486678059303807, -71.56029113669071],
    [-2.395045128844183, -71.06579677819458],
    [-3.215360884521004, -71.5586067315579],
    [-6.11333277151115, -73.09971646257516],
    [-8.290996216775195, -74.0792325411123],
    [-6.518968789656839, -74.38538545121936],
    [-4.921040527409679, -74.63940567376596],
    [-3.270058668963146, -74.8813585364169],
    [-1.5662152128807827, -75.11061933919429],
    [0.11061256200851124, -75.31732099447206]]},
  &#39;REFLECTIVE_SAMPLES&#39;: 8691,
  &#39;SUN_AZIMUTH&#39;: 53.48197629,
  &#39;DATE_ACQUIRED&#39;: &#39;2024-10-14&#39;,
  &#39;ELLIPSOID&#39;: &#39;WGS84&#39;,
  &#39;STATION_ID&#39;: &#39;LGN&#39;,
  &#39;FALSE_NORTHING&#39;: 0,
  &#39;RESAMPLING_OPTION&#39;: &#39;CUBIC_CONVOLUTION&#39;,
  &#39;ORIENTATION&#39;: &#39;NORTH_UP&#39;,
  &#39;WRS_ROW&#39;: 111,
  &#39;RADIANCE_MULT_BAND_9&#39;: 0.0024061,
  &#39;TARGET_WRS_ROW&#39;: 111,
  &#39;RADIANCE_MULT_BAND_7&#39;: 0.00051562,
  &#39;RADIANCE_MULT_BAND_8&#39;: 0.011335,
  &#39;FALSE_EASTING&#39;: 0,
  &#39;IMAGE_QUALITY_TIRS&#39;: 9,
  &#39;CLOUD_COVER&#39;: 2.53,
  &#39;COLLECTION_CATEGORY&#39;: &#39;T2&#39;,
  &#39;GRID_CELL_SIZE_REFLECTIVE&#39;: 30,
  &#39;CLOUD_COVER_LAND&#39;: 2.53,
  &#39;COLLECTION_NUMBER&#39;: 2,
  &#39;IMAGE_QUALITY_OLI&#39;: 9,
  &#39;LANDSAT_SCENE_ID&#39;: &#39;LC91741112024288LGN00&#39;,
  &#39;WRS_PATH&#39;: 174,
  &#39;PANCHROMATIC_SAMPLES&#39;: 17381,
  &#39;PANCHROMATIC_LINES&#39;: 17261,
  &#39;REFLECTIVE_LINES&#39;: 8631,
  &#39;system:asset_size&#39;: 1154557290,
  &#39;system:index&#39;: &#39;LC09_174111_20241014&#39;,
  &#39;DATA_SOURCE_ELEVATION&#39;: &#39;RAMP&#39;,
  &#39;REFLECTANCE_ADD_BAND_1&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_2&#39;: -0.1,
  &#39;DATUM&#39;: &#39;WGS84&#39;,
  &#39;REFLECTANCE_ADD_BAND_3&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_4&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_5&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_6&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_7&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_8&#39;: -0.1,
  &#39;TRUE_SCALE_LAT&#39;: -71,
  &#39;system:time_end&#39;: 1728895214166,
  &#39;LANDSAT_PRODUCT_ID&#39;: &#39;LC09_L1GT_174111_20241014_20241014_02_T2&#39;,
  &#39;REFLECTANCE_ADD_BAND_9&#39;: -0.1,
  &#39;GRID_CELL_SIZE_PANCHROMATIC&#39;: 15,
  &#39;VERTICAL_LON_FROM_POLE&#39;: 0,
  &#39;RADIANCE_ADD_BAND_4&#39;: -50.21904,
  &#39;REFLECTANCE_MULT_BAND_7&#39;: 2e-05,
  &#39;system:time_start&#39;: 1728895214166,
  &#39;RADIANCE_ADD_BAND_5&#39;: -30.77935,
  &#39;REFLECTANCE_MULT_BAND_6&#39;: 2e-05,
  &#39;RADIANCE_ADD_BAND_6&#39;: -7.65075,
  &#39;REFLECTANCE_MULT_BAND_9&#39;: 2e-05,
  &#39;PROCESSING_SOFTWARE_VERSION&#39;: &#39;LPGS_16.4.0&#39;,
  &#39;RADIANCE_ADD_BAND_7&#39;: -2.5781,
  &#39;REFLECTANCE_MULT_BAND_8&#39;: 2e-05,
  &#39;RADIANCE_ADD_BAND_1&#39;: -62.90764,
  &#39;RADIANCE_ADD_BAND_2&#39;: -64.61124,
  &#39;RADIANCE_ADD_BAND_3&#39;: -59.60744,
  &#39;REFLECTANCE_MULT_BAND_1&#39;: 2e-05,
  &#39;RADIANCE_ADD_BAND_8&#39;: -56.67468,
  &#39;REFLECTANCE_MULT_BAND_3&#39;: 2e-05,
  &#39;RADIANCE_ADD_BAND_9&#39;: -12.03028,
  &#39;REFLECTANCE_MULT_BAND_2&#39;: 2e-05,
  &#39;REFLECTANCE_MULT_BAND_5&#39;: 2e-05,
  &#39;REFLECTANCE_MULT_BAND_4&#39;: 2e-05,
  &#39;THERMAL_LINES&#39;: 8631,
  &#39;GRID_CELL_SIZE_THERMAL&#39;: 30,
  &#39;NADIR_OFFNADIR&#39;: &#39;NADIR&#39;,
  &#39;RADIANCE_ADD_BAND_11&#39;: 0.1,
  &#39;REQUEST_ID&#39;: &#39;1946449_00003&#39;,
  &#39;EARTH_SUN_DISTANCE&#39;: 0.9973461,
  &#39;SCENE_CENTER_TIME&#39;: &#39;08:40:14.1667340Z&#39;,
  &#39;SUN_ELEVATION&#39;: 19.45743455,
  &#39;RADIANCE_ADD_BAND_10&#39;: 0.1,
  &#39;ROLL_ANGLE&#39;: 0,
  &#39;DATE_PRODUCT_GENERATED&#39;: 1728918454000,
  &#39;K1_CONSTANT_BAND_10&#39;: 799.0284,
  &#39;SATURATION_BAND_1&#39;: &#39;N&#39;,
  &#39;SATURATION_BAND_2&#39;: &#39;N&#39;,
  &#39;SATURATION_BAND_3&#39;: &#39;N&#39;,
  &#39;SATURATION_BAND_4&#39;: &#39;N&#39;,
  &#39;SATURATION_BAND_5&#39;: &#39;N&#39;,
  &#39;MAP_PROJECTION&#39;: &#39;PS&#39;,
  &#39;SATURATION_BAND_6&#39;: &#39;N&#39;,
  &#39;SENSOR_ID&#39;: &#39;OLI_TIRS&#39;,
  &#39;SATURATION_BAND_7&#39;: &#39;N&#39;,
  &#39;K1_CONSTANT_BAND_11&#39;: 475.6581,
  &#39;SATURATION_BAND_8&#39;: &#39;N&#39;,
  &#39;SATURATION_BAND_9&#39;: &#39;N&#39;,
  &#39;TARGET_WRS_PATH&#39;: 174,
  &#39;PROCESSING_LEVEL&#39;: &#39;L1GT&#39;,
  &#39;RADIANCE_MULT_BAND_11&#39;: 0.000349,
  &#39;RADIANCE_MULT_BAND_10&#39;: 0.00038,
  &#39;SPACECRAFT_ID&#39;: &#39;LANDSAT_9&#39;,
  &#39;THERMAL_SAMPLES&#39;: 8691}}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load an image.</span>
<span class="n">image2</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1_TOA/LC08_044034_20140318&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image2</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;type&#39;: &#39;Image&#39;,
 &#39;bands&#39;: [{&#39;id&#39;: &#39;B1&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;B2&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;B3&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;B4&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;B5&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;B6&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;B7&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;B8&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [15321, 15601],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [15, 0, 460792.5, 0, -15, 4264207.5]},
  {&#39;id&#39;: &#39;B9&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;B10&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;B11&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;, &#39;precision&#39;: &#39;float&#39;},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;QA_PIXEL&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: 0,
    &#39;max&#39;: 65535},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;QA_RADSAT&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: 0,
    &#39;max&#39;: 65535},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;SAA&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: -32768,
    &#39;max&#39;: 32767},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;SZA&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: -32768,
    &#39;max&#39;: 32767},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;VAA&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: -32768,
    &#39;max&#39;: 32767},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]},
  {&#39;id&#39;: &#39;VZA&#39;,
   &#39;data_type&#39;: {&#39;type&#39;: &#39;PixelType&#39;,
    &#39;precision&#39;: &#39;int&#39;,
    &#39;min&#39;: -32768,
    &#39;max&#39;: 32767},
   &#39;dimensions&#39;: [7661, 7801],
   &#39;crs&#39;: &#39;EPSG:32610&#39;,
   &#39;crs_transform&#39;: [30, 0, 460785, 0, -30, 4264215]}],
 &#39;version&#39;: 1729678644678079,
 &#39;id&#39;: &#39;LANDSAT/LC08/C02/T1_TOA/LC08_044034_20140318&#39;,
 &#39;properties&#39;: {&#39;RADIANCE_MULT_BAND_5&#39;: 0.0061709,
  &#39;RADIANCE_MULT_BAND_6&#39;: 0.0015346,
  &#39;RADIANCE_MULT_BAND_3&#39;: 0.011958,
  &#39;RADIANCE_MULT_BAND_4&#39;: 0.010084,
  &#39;RADIANCE_MULT_BAND_1&#39;: 0.012673,
  &#39;RADIANCE_MULT_BAND_2&#39;: 0.012977,
  &#39;WRS_TYPE&#39;: 2,
  &#39;K2_CONSTANT_BAND_11&#39;: 1201.1442,
  &#39;K2_CONSTANT_BAND_10&#39;: 1321.0789,
  &#39;system:footprint&#39;: {&#39;type&#39;: &#39;LinearRing&#39;,
   &#39;coordinates&#39;: [[-120.82829120245813, 38.12674271231532],
    [-120.82825562226986, 38.12794465488719],
    [-122.94816146043102, 38.52557438907335],
    [-122.95017392636679, 38.525575241513984],
    [-122.95103687833704, 38.52422133103557],
    [-122.9569591344694, 38.504384836247866],
    [-123.43819639576931, 36.8067677093856],
    [-123.43818715731503, 36.80515197239888],
    [-122.59741883356627, 36.649103679754695],
    [-121.7447578273677, 36.484155023486586],
    [-121.36447420897477, 36.40841783077398],
    [-121.36356258609048, 36.41050956687825],
    [-121.35090897088811, 36.4518793824831],
    [-121.22967745029597, 36.84643051692306],
    [-121.09562084223639, 37.277564669766534],
    [-121.00627382820008, 37.56277728852005],
    [-120.9878871097224, 37.62126918546582],
    [-120.94877799584778, 37.74550067322107],
    [-120.89582540976387, 37.913151863362316],
    [-120.87857939052793, 37.967699972528294],
    [-120.85488075181219, 38.04269503040254],
    [-120.82829120245813, 38.12674271231532]]},
  &#39;REFLECTIVE_SAMPLES&#39;: 7661,
  &#39;SUN_AZIMUTH&#39;: 146.2395763,
  &#39;DATA_SOURCE_TIRS_STRAY_LIGHT_CORRECTION&#39;: &#39;TIRS&#39;,
  &#39;DATE_ACQUIRED&#39;: &#39;2014-03-18&#39;,
  &#39;ELLIPSOID&#39;: &#39;WGS84&#39;,
  &#39;STATION_ID&#39;: &#39;LGN&#39;,
  &#39;RESAMPLING_OPTION&#39;: &#39;CUBIC_CONVOLUTION&#39;,
  &#39;ORIENTATION&#39;: &#39;NORTH_UP&#39;,
  &#39;WRS_ROW&#39;: 34,
  &#39;RADIANCE_MULT_BAND_9&#39;: 0.0024117,
  &#39;TARGET_WRS_ROW&#39;: 34,
  &#39;RADIANCE_MULT_BAND_7&#39;: 0.00051725,
  &#39;RADIANCE_MULT_BAND_8&#39;: 0.011412,
  &#39;IMAGE_QUALITY_TIRS&#39;: 9,
  &#39;TRUNCATION_OLI&#39;: &#39;UPPER&#39;,
  &#39;CLOUD_COVER&#39;: 0.06,
  &#39;GEOMETRIC_RMSE_VERIFY&#39;: 2.215,
  &#39;COLLECTION_CATEGORY&#39;: &#39;T1&#39;,
  &#39;GRID_CELL_SIZE_REFLECTIVE&#39;: 30,
  &#39;CLOUD_COVER_LAND&#39;: 0.1,
  &#39;GEOMETRIC_RMSE_MODEL&#39;: 5.02,
  &#39;COLLECTION_NUMBER&#39;: 2,
  &#39;IMAGE_QUALITY_OLI&#39;: 9,
  &#39;LANDSAT_SCENE_ID&#39;: &#39;LC80440342014077LGN01&#39;,
  &#39;WRS_PATH&#39;: 44,
  &#39;PANCHROMATIC_SAMPLES&#39;: 15321,
  &#39;PANCHROMATIC_LINES&#39;: 15601,
  &#39;GEOMETRIC_RMSE_MODEL_Y&#39;: 3.711,
  &#39;REFLECTIVE_LINES&#39;: 7801,
  &#39;GEOMETRIC_RMSE_MODEL_X&#39;: 3.38,
  &#39;system:asset_size&#39;: 1118765383,
  &#39;system:index&#39;: &#39;LC08_044034_20140318&#39;,
  &#39;DATA_SOURCE_ELEVATION&#39;: &#39;GLS2000&#39;,
  &#39;REFLECTANCE_ADD_BAND_1&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_2&#39;: -0.1,
  &#39;DATUM&#39;: &#39;WGS84&#39;,
  &#39;REFLECTANCE_ADD_BAND_3&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_4&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_5&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_6&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_7&#39;: -0.1,
  &#39;REFLECTANCE_ADD_BAND_8&#39;: -0.1,
  &#39;GROUND_CONTROL_POINTS_VERSION&#39;: 5,
  &#39;UTM_ZONE&#39;: 10,
  &#39;system:time_end&#39;: 1395168392053,
  &#39;LANDSAT_PRODUCT_ID&#39;: &#39;LC08_L1TP_044034_20140318_20200911_02_T1&#39;,
  &#39;REFLECTANCE_ADD_BAND_9&#39;: -0.1,
  &#39;GRID_CELL_SIZE_PANCHROMATIC&#39;: 15,
  &#39;RADIANCE_ADD_BAND_4&#39;: -50.41956,
  &#39;REFLECTANCE_MULT_BAND_7&#39;: 2e-05,
  &#39;system:time_start&#39;: 1395168392053,
  &#39;RADIANCE_ADD_BAND_5&#39;: -30.85425,
  &#39;REFLECTANCE_MULT_BAND_6&#39;: 2e-05,
  &#39;RADIANCE_ADD_BAND_6&#39;: -7.67317,
  &#39;REFLECTANCE_MULT_BAND_9&#39;: 2e-05,
  &#39;PROCESSING_SOFTWARE_VERSION&#39;: &#39;LPGS_15.3.1c&#39;,
  &#39;RADIANCE_ADD_BAND_7&#39;: -2.58627,
  &#39;REFLECTANCE_MULT_BAND_8&#39;: 2e-05,
  &#39;RADIANCE_ADD_BAND_1&#39;: -63.36405,
  &#39;RADIANCE_ADD_BAND_2&#39;: -64.88556,
  &#39;RADIANCE_ADD_BAND_3&#39;: -59.79149,
  &#39;REFLECTANCE_MULT_BAND_1&#39;: 2e-05,
  &#39;RADIANCE_ADD_BAND_8&#39;: -57.06106,
  &#39;REFLECTANCE_MULT_BAND_3&#39;: 2e-05,
  &#39;RADIANCE_ADD_BAND_9&#39;: -12.05854,
  &#39;REFLECTANCE_MULT_BAND_2&#39;: 2e-05,
  &#39;REFLECTANCE_MULT_BAND_5&#39;: 2e-05,
  &#39;REFLECTANCE_MULT_BAND_4&#39;: 2e-05,
  &#39;THERMAL_LINES&#39;: 7801,
  &#39;TIRS_SSM_POSITION_STATUS&#39;: &#39;NOMINAL&#39;,
  &#39;GRID_CELL_SIZE_THERMAL&#39;: 30,
  &#39;NADIR_OFFNADIR&#39;: &#39;NADIR&#39;,
  &#39;RADIANCE_ADD_BAND_11&#39;: 0.1,
  &#39;REQUEST_ID&#39;: &#39;L2&#39;,
  &#39;EARTH_SUN_DISTANCE&#39;: 0.9953709,
  &#39;TIRS_SSM_MODEL&#39;: &#39;ACTUAL&#39;,
  &#39;SCENE_CENTER_TIME&#39;: &#39;18:46:32.0535800Z&#39;,
  &#39;SUN_ELEVATION&#39;: 46.47106522,
  &#39;RADIANCE_ADD_BAND_10&#39;: 0.1,
  &#39;ROLL_ANGLE&#39;: -0.001,
  &#39;DATE_PRODUCT_GENERATED&#39;: 1599866504000,
  &#39;K1_CONSTANT_BAND_10&#39;: 774.8853,
  &#39;SATURATION_BAND_1&#39;: &#39;Y&#39;,
  &#39;SATURATION_BAND_2&#39;: &#39;Y&#39;,
  &#39;SATURATION_BAND_3&#39;: &#39;Y&#39;,
  &#39;SATURATION_BAND_4&#39;: &#39;Y&#39;,
  &#39;SATURATION_BAND_5&#39;: &#39;Y&#39;,
  &#39;MAP_PROJECTION&#39;: &#39;UTM&#39;,
  &#39;SATURATION_BAND_6&#39;: &#39;Y&#39;,
  &#39;SENSOR_ID&#39;: &#39;OLI_TIRS&#39;,
  &#39;SATURATION_BAND_7&#39;: &#39;Y&#39;,
  &#39;K1_CONSTANT_BAND_11&#39;: 480.8883,
  &#39;SATURATION_BAND_8&#39;: &#39;N&#39;,
  &#39;SATURATION_BAND_9&#39;: &#39;N&#39;,
  &#39;TARGET_WRS_PATH&#39;: 44,
  &#39;PROCESSING_LEVEL&#39;: &#39;L1TP&#39;,
  &#39;RADIANCE_MULT_BAND_11&#39;: 0.0003342,
  &#39;RADIANCE_MULT_BAND_10&#39;: 0.0003342,
  &#39;GROUND_CONTROL_POINTS_MODEL&#39;: 1078,
  &#39;SPACECRAFT_ID&#39;: &#39;LANDSAT_8&#39;,
  &#39;THERMAL_SAMPLES&#39;: 7661,
  &#39;GROUND_CONTROL_POINTS_VERIFY&#39;: 307}}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get MapId</span>
<span class="n">mapid</span> <span class="o">=</span> <span class="n">image2</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span>
    <span class="s1">&#39;bands&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">,</span> <span class="s1">&#39;B2&#39;</span><span class="p">],</span> 
    <span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
    <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">})</span>
<span class="c1"># Define center</span>
<span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">38.</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.5</span><span class="p">]</span>
<span class="c1"># Display the map with folium!</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;Landsat image&#39;</span><span class="p">:</span><span class="n">mapid</span><span class="p">},</span><span class="n">zoom_start</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_9596630dffad68909cdaa45d899b62ca {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_9596630dffad68909cdaa45d899b62ca&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_9596630dffad68909cdaa45d899b62ca = L.map(
                &quot;map_9596630dffad68909cdaa45d899b62ca&quot;,
                {
                    center: [38.0, -122.5],
                    crs: L.CRS.EPSG3857,
                    zoom: 8,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_7ff69a5f1a140d0d35ab76c3561b1ad8 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_7ff69a5f1a140d0d35ab76c3561b1ad8.addTo(map_9596630dffad68909cdaa45d899b62ca);
        
    
            var tile_layer_67de40fce0ee0a465ad60af955916b4a = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/359d6b429c68be0c1d22ce859947051c-c2cdc646aa7d6d9f2bc1c3642852bf5c/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_67de40fce0ee0a465ad60af955916b4a.addTo(map_9596630dffad68909cdaa45d899b62ca);
        
    
            var layer_control_779d5473548c9e33396f318348c0f6de_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_7ff69a5f1a140d0d35ab76c3561b1ad8,
                },
                overlays :  {
                    &quot;Landsat image&quot; : tile_layer_67de40fce0ee0a465ad60af955916b4a,
                },
            };
            let layer_control_779d5473548c9e33396f318348c0f6de = L.control.layers(
                layer_control_779d5473548c9e33396f318348c0f6de_layers.base_layers,
                layer_control_779d5473548c9e33396f318348c0f6de_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_9596630dffad68909cdaa45d899b62ca);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<section id="masking">
<h2>Masking<a class="headerlink" href="#masking" title="Link to this heading">#</a></h2>
<p>You can use <strong><code class="docutils literal notranslate"><span class="pre">image.updateMask()</span></code></strong> to set the opacity of individual pixels based on where pixels in a mask image are non-zero. Pixels equal to zero in the mask are excluded from computations and the opacity is set to 0 for display. The following example uses an NDWI threshold (see the <a class="reference internal" href="#"><span class="xref myst">Relational Operations section</span></a> for information on thresholds) to update the mask on the NDWI layer created previously:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load an image.</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1_TOA/LC08_044034_20140318&#39;</span><span class="p">)</span>

<span class="c1"># Create an NDWI image, define visualization parameters and display.</span>
<span class="n">ndwi</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">normalizedDifference</span><span class="p">([</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span> <span class="s1">&#39;B5&#39;</span><span class="p">])</span>

<span class="c1"># Mask the non-watery parts of the image, where NDWI &lt; 0.4.</span>
<span class="n">ndwiMasked</span> <span class="o">=</span> <span class="n">ndwi</span><span class="o">.</span><span class="n">updateMask</span><span class="p">(</span><span class="n">ndwi</span><span class="o">.</span><span class="n">gte</span><span class="p">(</span><span class="mf">0.4</span><span class="p">))</span>
<span class="n">ndwiId</span> <span class="o">=</span> <span class="n">ndwiMasked</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;palette&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;00FFFF&#39;</span><span class="p">,</span> <span class="s1">&#39;0000FF&#39;</span><span class="p">]})</span>

<span class="c1"># Display the map with folium!</span>
<span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">38.</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.5</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,{</span><span class="s1">&#39;NDWI masked&#39;</span><span class="p">:</span><span class="n">ndwiId</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_7b9a103244e299ef85beb65499a1b9f2 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_7b9a103244e299ef85beb65499a1b9f2&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_7b9a103244e299ef85beb65499a1b9f2 = L.map(
                &quot;map_7b9a103244e299ef85beb65499a1b9f2&quot;,
                {
                    center: [38.0, -122.5],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_ebd69294b93f36ec3c5a51494edb70b5 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_ebd69294b93f36ec3c5a51494edb70b5.addTo(map_7b9a103244e299ef85beb65499a1b9f2);
        
    
            var tile_layer_c70ec5edff1b0f9a4b0c9636dd7e011e = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/a9c041e95b0cdb1cef944f8ff873c6a0-962b65db727e4a8c3ce6c537e03da0d5/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_c70ec5edff1b0f9a4b0c9636dd7e011e.addTo(map_7b9a103244e299ef85beb65499a1b9f2);
        
    
            var layer_control_89d255c7a5269dbdb181075fc8135238_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_ebd69294b93f36ec3c5a51494edb70b5,
                },
                overlays :  {
                    &quot;NDWI masked&quot; : tile_layer_c70ec5edff1b0f9a4b0c9636dd7e011e,
                },
            };
            let layer_control_89d255c7a5269dbdb181075fc8135238 = L.control.layers(
                layer_control_89d255c7a5269dbdb181075fc8135238_layers.base_layers,
                layer_control_89d255c7a5269dbdb181075fc8135238_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_7b9a103244e299ef85beb65499a1b9f2);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
</section>
<section id="clipping">
<h2>Clipping<a class="headerlink" href="#clipping" title="Link to this heading">#</a></h2>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">image.clip()</span></code></strong> method is useful for achieving cartographic effects. The following example clips the Image <strong>RGB_SF</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a circle by drawing a 20000 meter buffer around a point.</span>
<span class="n">roi</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">Point</span><span class="p">([</span><span class="o">-</span><span class="mf">122.4481</span><span class="p">,</span> <span class="mf">37.7599</span><span class="p">])</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="mi">20000</span><span class="p">)</span>

<span class="n">mapRoi</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
<span class="n">mapId</span> <span class="o">=</span> <span class="n">mapRoi</span><span class="o">.</span><span class="n">getMapId</span><span class="p">()</span>

<span class="c1"># Display map</span>
<span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">38.</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.5</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,{</span><span class="s1">&#39;Mosaic&#39;</span><span class="p">:</span><span class="n">mapId</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_7e18b53426cf609ca730c0cf8be78a46 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_7e18b53426cf609ca730c0cf8be78a46&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_7e18b53426cf609ca730c0cf8be78a46 = L.map(
                &quot;map_7e18b53426cf609ca730c0cf8be78a46&quot;,
                {
                    center: [38.0, -122.5],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_1910c4fede341cd61e19cb7b0c989fbb = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_1910c4fede341cd61e19cb7b0c989fbb.addTo(map_7e18b53426cf609ca730c0cf8be78a46);
        
    
            var tile_layer_01e9ad7f5bcb5c18cdd604c62b586859 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/c7faf0c4bc64471e1ff2a1d679610d9c-afddaf8549004176f9eb20f578f01182/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_01e9ad7f5bcb5c18cdd604c62b586859.addTo(map_7e18b53426cf609ca730c0cf8be78a46);
        
    
            var layer_control_6625235db6b0dc99382a3f7d13ed1c33_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_1910c4fede341cd61e19cb7b0c989fbb,
                },
                overlays :  {
                    &quot;Mosaic&quot; : tile_layer_01e9ad7f5bcb5c18cdd604c62b586859,
                },
            };
            let layer_control_6625235db6b0dc99382a3f7d13ed1c33 = L.control.layers(
                layer_control_6625235db6b0dc99382a3f7d13ed1c33_layers.base_layers,
                layer_control_6625235db6b0dc99382a3f7d13ed1c33_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_7e18b53426cf609ca730c0cf8be78a46);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
</section>
<section id="rendering-categorical-maps">
<h2>Rendering categorical maps<a class="headerlink" href="#rendering-categorical-maps" title="Link to this heading">#</a></h2>
<p>Palettes are also useful for rendering discrete valued maps, for example a land cover map. In the case of multiple classes, use the palette to supply a different color for each class. (The <strong><code class="docutils literal notranslate"><span class="pre">image.remap()</span></code></strong> method may be useful in this context, to convert arbitrary labels to consecutive integers). The following example uses a palette to render land cover categories:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cover</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;MODIS/051/MCD12Q1/2012_01_01&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;Land_Cover_Type_1&#39;</span><span class="p">)</span>

<span class="c1"># Define a palette for the 18 distinct land cover classes.</span>
<span class="n">igbpPalette</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">&#39;aec3d4&#39;</span><span class="p">,</span> <span class="c1"># water</span>
  <span class="s1">&#39;152106&#39;</span><span class="p">,</span> <span class="s1">&#39;225129&#39;</span><span class="p">,</span> <span class="s1">&#39;369b47&#39;</span><span class="p">,</span> <span class="s1">&#39;30eb5b&#39;</span><span class="p">,</span> <span class="s1">&#39;387242&#39;</span><span class="p">,</span> <span class="c1"># forest</span>
  <span class="s1">&#39;6a2325&#39;</span><span class="p">,</span> <span class="s1">&#39;c3aa69&#39;</span><span class="p">,</span> <span class="s1">&#39;b76031&#39;</span><span class="p">,</span> <span class="s1">&#39;d9903d&#39;</span><span class="p">,</span> <span class="s1">&#39;91af40&#39;</span><span class="p">,</span>  <span class="c1"># shrub, grass</span>
  <span class="s1">&#39;111149&#39;</span><span class="p">,</span> <span class="c1"># wetlands</span>
  <span class="s1">&#39;cdb33b&#39;</span><span class="p">,</span> <span class="c1"># croplands</span>
  <span class="s1">&#39;cc0013&#39;</span><span class="p">,</span> <span class="c1"># urban</span>
  <span class="s1">&#39;33280d&#39;</span><span class="p">,</span> <span class="c1"># crop mosaic</span>
  <span class="s1">&#39;d7cdcc&#39;</span><span class="p">,</span> <span class="c1"># snow and ice</span>
  <span class="s1">&#39;f7e084&#39;</span><span class="p">,</span> <span class="c1"># barren</span>
  <span class="s1">&#39;6f6f6f&#39;</span>  <span class="c1"># tundra</span>
<span class="p">]</span>

<span class="c1"># Specify the min and max labels and the color palette matching the labels.</span>
<span class="n">vizParams</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
             <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span>
             <span class="s1">&#39;palette&#39;</span><span class="p">:</span> <span class="n">igbpPalette</span><span class="p">}</span>
<span class="n">mapId</span> <span class="o">=</span> <span class="n">cover</span><span class="o">.</span><span class="n">getMapId</span><span class="p">(</span><span class="n">vizParams</span><span class="p">)</span>

<span class="c1">#Display the map with folium!</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">38.</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.5</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,{</span><span class="s1">&#39;Mosaic&#39;</span><span class="p">:</span><span class="n">mapId</span><span class="p">},</span><span class="n">zoom_start</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_ce665ebd792abfe6c2d088ddc917c716 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_ce665ebd792abfe6c2d088ddc917c716&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_ce665ebd792abfe6c2d088ddc917c716 = L.map(
                &quot;map_ce665ebd792abfe6c2d088ddc917c716&quot;,
                {
                    center: [38.0, -122.5],
                    crs: L.CRS.EPSG3857,
                    zoom: 8,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_ce054c5e7c7c341db0ca0748a438e0f4 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_ce054c5e7c7c341db0ca0748a438e0f4.addTo(map_ce665ebd792abfe6c2d088ddc917c716);
        
    
            var tile_layer_804f02f0c52670165ba0063403f570b1 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/19eeba639c2c4602b8f96d5c1f38bad7-732ff83061fc502e7cb750a20ed183f4/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_804f02f0c52670165ba0063403f570b1.addTo(map_ce665ebd792abfe6c2d088ddc917c716);
        
    
            var layer_control_9503b385ef4af61e29bd3220472818d9_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_ce054c5e7c7c341db0ca0748a438e0f4,
                },
                overlays :  {
                    &quot;Mosaic&quot; : tile_layer_804f02f0c52670165ba0063403f570b1,
                },
            };
            let layer_control_9503b385ef4af61e29bd3220472818d9 = L.control.layers(
                layer_control_9503b385ef4af61e29bd3220472818d9_layers.base_layers,
                layer_control_9503b385ef4af61e29bd3220472818d9_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_ce665ebd792abfe6c2d088ddc917c716);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="image-information-and-metadata">
<h1>3. Image information and metadata<a class="headerlink" href="#image-information-and-metadata" title="Link to this heading">#</a></h1>
<p>To explore image bands and properties in the Python API, getInfo() the image and inspect the output in the console. This information can also be accessed programmatically. For example, the following demonstrates how to access information about bands, projections and other metadata:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load an image.</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1/LC08_044034_20140318&#39;</span><span class="p">)</span>

<span class="c1"># Get information about the bands as a list.</span>
<span class="n">bandNames</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">bandNames</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Band names: &#39;</span><span class="p">,</span> <span class="n">bandNames</span><span class="o">.</span><span class="n">getInfo</span><span class="p">())</span> <span class="c1"># ee.List of band names</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Band names:  [&#39;B1&#39;, &#39;B2&#39;, &#39;B3&#39;, &#39;B4&#39;, &#39;B5&#39;, &#39;B6&#39;, &#39;B7&#39;, &#39;B8&#39;, &#39;B9&#39;, &#39;B10&#39;, &#39;B11&#39;, &#39;QA_PIXEL&#39;, &#39;QA_RADSAT&#39;, &#39;SAA&#39;, &#39;SZA&#39;, &#39;VAA&#39;, &#39;VZA&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get projection information from band 1.</span>
<span class="n">b1proj</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">projection</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Band 1 projection: </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">b1proj</span><span class="o">.</span><span class="n">getInfo</span><span class="p">())</span> <span class="c1"># ee.Projection object</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Band 1 projection: 
 {&#39;type&#39;: &#39;Projection&#39;, &#39;crs&#39;: &#39;EPSG:32610&#39;, &#39;transform&#39;: [30, 0, 460785, 0, -30, 4264215]}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get scale (in meters) information from band 1.</span>
<span class="n">b1scale</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">projection</span><span class="p">()</span><span class="o">.</span><span class="n">nominalScale</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Band 1 scale: </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">b1scale</span><span class="o">.</span><span class="n">getInfo</span><span class="p">())</span> <span class="c1"># ee.Number</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Band 1 scale: 
 30
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Note that different bands can have different projections and scale.</span>
<span class="n">b8scale</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">projection</span><span class="p">()</span><span class="o">.</span><span class="n">nominalScale</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Band 8 scale: </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">b8scale</span><span class="o">.</span><span class="n">getInfo</span><span class="p">())</span> <span class="c1"># ee.Number</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Band 8 scale: 
 15
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get a list of all metadata properties.</span>
<span class="n">properties</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">propertyNames</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Metadata properties:&#39;</span><span class="p">,</span> <span class="p">)</span> 
<span class="n">properties</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span> <span class="c1"># ee.List of metadata properties</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Metadata properties:
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;RADIANCE_MULT_BAND_5&#39;,
 &#39;RADIANCE_MULT_BAND_6&#39;,
 &#39;RADIANCE_MULT_BAND_3&#39;,
 &#39;RADIANCE_MULT_BAND_4&#39;,
 &#39;RADIANCE_MULT_BAND_1&#39;,
 &#39;RADIANCE_MULT_BAND_2&#39;,
 &#39;WRS_TYPE&#39;,
 &#39;system:id&#39;,
 &#39;K2_CONSTANT_BAND_11&#39;,
 &#39;K2_CONSTANT_BAND_10&#39;,
 &#39;system:footprint&#39;,
 &#39;REFLECTIVE_SAMPLES&#39;,
 &#39;SUN_AZIMUTH&#39;,
 &#39;DATA_SOURCE_TIRS_STRAY_LIGHT_CORRECTION&#39;,
 &#39;DATE_ACQUIRED&#39;,
 &#39;ELLIPSOID&#39;,
 &#39;STATION_ID&#39;,
 &#39;RESAMPLING_OPTION&#39;,
 &#39;ORIENTATION&#39;,
 &#39;WRS_ROW&#39;,
 &#39;RADIANCE_MULT_BAND_9&#39;,
 &#39;TARGET_WRS_ROW&#39;,
 &#39;RADIANCE_MULT_BAND_7&#39;,
 &#39;RADIANCE_MULT_BAND_8&#39;,
 &#39;IMAGE_QUALITY_TIRS&#39;,
 &#39;TRUNCATION_OLI&#39;,
 &#39;CLOUD_COVER&#39;,
 &#39;GEOMETRIC_RMSE_VERIFY&#39;,
 &#39;COLLECTION_CATEGORY&#39;,
 &#39;GRID_CELL_SIZE_REFLECTIVE&#39;,
 &#39;CLOUD_COVER_LAND&#39;,
 &#39;GEOMETRIC_RMSE_MODEL&#39;,
 &#39;COLLECTION_NUMBER&#39;,
 &#39;IMAGE_QUALITY_OLI&#39;,
 &#39;LANDSAT_SCENE_ID&#39;,
 &#39;WRS_PATH&#39;,
 &#39;PANCHROMATIC_SAMPLES&#39;,
 &#39;PANCHROMATIC_LINES&#39;,
 &#39;GEOMETRIC_RMSE_MODEL_Y&#39;,
 &#39;REFLECTIVE_LINES&#39;,
 &#39;GEOMETRIC_RMSE_MODEL_X&#39;,
 &#39;system:asset_size&#39;,
 &#39;system:index&#39;,
 &#39;DATA_SOURCE_ELEVATION&#39;,
 &#39;REFLECTANCE_ADD_BAND_1&#39;,
 &#39;REFLECTANCE_ADD_BAND_2&#39;,
 &#39;DATUM&#39;,
 &#39;REFLECTANCE_ADD_BAND_3&#39;,
 &#39;REFLECTANCE_ADD_BAND_4&#39;,
 &#39;REFLECTANCE_ADD_BAND_5&#39;,
 &#39;REFLECTANCE_ADD_BAND_6&#39;,
 &#39;REFLECTANCE_ADD_BAND_7&#39;,
 &#39;REFLECTANCE_ADD_BAND_8&#39;,
 &#39;system:version&#39;,
 &#39;GROUND_CONTROL_POINTS_VERSION&#39;,
 &#39;UTM_ZONE&#39;,
 &#39;system:time_end&#39;,
 &#39;LANDSAT_PRODUCT_ID&#39;,
 &#39;REFLECTANCE_ADD_BAND_9&#39;,
 &#39;GRID_CELL_SIZE_PANCHROMATIC&#39;,
 &#39;RADIANCE_ADD_BAND_4&#39;,
 &#39;REFLECTANCE_MULT_BAND_7&#39;,
 &#39;system:time_start&#39;,
 &#39;RADIANCE_ADD_BAND_5&#39;,
 &#39;REFLECTANCE_MULT_BAND_6&#39;,
 &#39;RADIANCE_ADD_BAND_6&#39;,
 &#39;REFLECTANCE_MULT_BAND_9&#39;,
 &#39;PROCESSING_SOFTWARE_VERSION&#39;,
 &#39;RADIANCE_ADD_BAND_7&#39;,
 &#39;REFLECTANCE_MULT_BAND_8&#39;,
 &#39;RADIANCE_ADD_BAND_1&#39;,
 &#39;RADIANCE_ADD_BAND_2&#39;,
 &#39;RADIANCE_ADD_BAND_3&#39;,
 &#39;REFLECTANCE_MULT_BAND_1&#39;,
 &#39;RADIANCE_ADD_BAND_8&#39;,
 &#39;REFLECTANCE_MULT_BAND_3&#39;,
 &#39;RADIANCE_ADD_BAND_9&#39;,
 &#39;REFLECTANCE_MULT_BAND_2&#39;,
 &#39;REFLECTANCE_MULT_BAND_5&#39;,
 &#39;REFLECTANCE_MULT_BAND_4&#39;,
 &#39;THERMAL_LINES&#39;,
 &#39;TIRS_SSM_POSITION_STATUS&#39;,
 &#39;GRID_CELL_SIZE_THERMAL&#39;,
 &#39;NADIR_OFFNADIR&#39;,
 &#39;RADIANCE_ADD_BAND_11&#39;,
 &#39;REQUEST_ID&#39;,
 &#39;EARTH_SUN_DISTANCE&#39;,
 &#39;TIRS_SSM_MODEL&#39;,
 &#39;SCENE_CENTER_TIME&#39;,
 &#39;SUN_ELEVATION&#39;,
 &#39;RADIANCE_ADD_BAND_10&#39;,
 &#39;ROLL_ANGLE&#39;,
 &#39;DATE_PRODUCT_GENERATED&#39;,
 &#39;K1_CONSTANT_BAND_10&#39;,
 &#39;SATURATION_BAND_1&#39;,
 &#39;SATURATION_BAND_2&#39;,
 &#39;SATURATION_BAND_3&#39;,
 &#39;SATURATION_BAND_4&#39;,
 &#39;SATURATION_BAND_5&#39;,
 &#39;MAP_PROJECTION&#39;,
 &#39;SATURATION_BAND_6&#39;,
 &#39;SENSOR_ID&#39;,
 &#39;SATURATION_BAND_7&#39;,
 &#39;K1_CONSTANT_BAND_11&#39;,
 &#39;SATURATION_BAND_8&#39;,
 &#39;SATURATION_BAND_9&#39;,
 &#39;TARGET_WRS_PATH&#39;,
 &#39;PROCESSING_LEVEL&#39;,
 &#39;RADIANCE_MULT_BAND_11&#39;,
 &#39;RADIANCE_MULT_BAND_10&#39;,
 &#39;GROUND_CONTROL_POINTS_MODEL&#39;,
 &#39;SPACECRAFT_ID&#39;,
 &#39;THERMAL_SAMPLES&#39;,
 &#39;GROUND_CONTROL_POINTS_VERIFY&#39;,
 &#39;system:bands&#39;,
 &#39;system:band_names&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get a specific metadata property.</span>
<span class="n">cloudiness</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER: &#39;</span><span class="p">)</span>
<span class="n">cloudiness</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span> <span class="c1"># ee.Number</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CLOUD_COVER: 
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.06
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span> <span class="k">as</span> <span class="n">dt</span>

<span class="c1"># Get the timestamp and convert it to a date.</span>
<span class="n">date</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Date</span><span class="p">(</span><span class="n">image</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;system:time_start&#39;</span><span class="p">))</span>
<span class="c1"># We divide by 1000 because Earth Engine returns the timestamp in milisecond and Python in seconds.</span>
<span class="n">tmstp</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">1000</span> 

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Timestamp:&#39;</span><span class="p">,</span> <span class="n">dt</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">tmstp</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Timestamp: 2014-03-18 18:46:32
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_1770/3936735144.py:8: DeprecationWarning: datetime.datetime.utcfromtimestamp() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.fromtimestamp(timestamp, datetime.UTC).
  print(&#39;Timestamp:&#39;, dt.utcfromtimestamp(tmstp).strftime(&#39;%Y-%m-%d %H:%M:%S&#39;))
</pre></div>
</div>
</div>
</div>
<p>Note that the results of these queries are <strong>server-side objects</strong>. When you use the method *.getInfo(), you request that information describing the object be sent from the server to your client. (Learn more about client vs. server in Earth Engine on this <a class="reference external" href="https://developers.google.com/earth-engine/client_server">page</a>).</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="mathematical-expressions">
<h1>4. Mathematical Expressions<a class="headerlink" href="#mathematical-expressions" title="Link to this heading">#</a></h1>
<p>Earth Engine supports many basic mathematical operators. They share some common features. <strong>Earth Engine performs math operations per pixel</strong>. When an operator is applied to an image, it’s applied to each unmasked pixel of each band. In the case of operations on two images, the operation is only applied at the locations where pixels in both images are unmasked. Earth Engine automatically matches bands between images. When an operator is applied to two images, the images are expected to have the same number of bands so they can be matched pairwise. However, if one of the images has only a single band, it is matched with all of the bands in the other image, essentially replicating that band enough times to match the other image.</p>
<p>For a simple example, consider the task of creating the Normalized Difference Vegetation Index (NDVI) using Landsat imagery:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load two 5-year Landsat 7 composites.</span>
<span class="n">landsat1999</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LE7_TOA_5YEAR/1999_2003&#39;</span><span class="p">)</span>
<span class="n">landsat2008</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LE7_TOA_5YEAR/2008_2012&#39;</span><span class="p">)</span>

<span class="c1"># Compute NDVI the hard way.</span>
<span class="n">ndvi1999</span> <span class="o">=</span> <span class="n">landsat1999</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B4&#39;</span><span class="p">)</span>\
                      <span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">landsat1999</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B3&#39;</span><span class="p">))</span>\
                      <span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="n">landsat1999</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B4&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">landsat1999</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B3&#39;</span><span class="p">)))</span>

<span class="c1"># Compute NDVI the easy way.</span>
<span class="n">ndvi2008</span> <span class="o">=</span> <span class="n">landsat2008</span><span class="o">.</span><span class="n">normalizedDifference</span><span class="p">([</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">])</span>

<span class="c1">#Vizualization</span>
<span class="n">ndwiViz</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;palette&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;FF0000&#39;</span><span class="p">,</span> <span class="s1">&#39;00FF00&#39;</span><span class="p">]}</span>
<span class="n">Peru</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">(</span><span class="o">-</span><span class="mi">85</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">65</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> 

<span class="n">ndvi1999</span> <span class="o">=</span> <span class="n">ndvi1999</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">Peru</span><span class="p">)</span>
<span class="n">ndvi2008</span> <span class="o">=</span> <span class="n">ndvi2008</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">Peru</span><span class="p">)</span>

<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;NDVI PERU 1999&quot;</span><span class="p">:</span> <span class="n">ndvi1999</span><span class="o">.</span><span class="n">getMapId</span><span class="p">(</span><span class="n">ndwiViz</span><span class="p">),</span> 
    <span class="s2">&quot;NDVI PERU 2008&quot;</span><span class="p">:</span> <span class="n">ndvi2008</span><span class="o">.</span><span class="n">getMapId</span><span class="p">(</span><span class="n">ndwiViz</span><span class="p">)</span>
<span class="p">}</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">12.</span><span class="p">,</span> <span class="o">-</span><span class="mf">75.</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_a694175f05fbaa08e6d763aafdeb0e34 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_a694175f05fbaa08e6d763aafdeb0e34&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_a694175f05fbaa08e6d763aafdeb0e34 = L.map(
                &quot;map_a694175f05fbaa08e6d763aafdeb0e34&quot;,
                {
                    center: [-12.0, -75.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_abeb1bd4a1d5020844371871e578cdaa = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_abeb1bd4a1d5020844371871e578cdaa.addTo(map_a694175f05fbaa08e6d763aafdeb0e34);
        
    
            var tile_layer_3f099e61309dfb029367f5152f73d6ec = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/e66f992bca44932a33f73054feb3a4e3-7fadfc9746a705daf3a5c6ad7803fdf6/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_3f099e61309dfb029367f5152f73d6ec.addTo(map_a694175f05fbaa08e6d763aafdeb0e34);
        
    
            var tile_layer_65d525891623e5bdc161d17aa834f2f2 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/1569d91d91e6126a277701266f03a797-d389a514e54310e120c7daea9a6666a3/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_65d525891623e5bdc161d17aa834f2f2.addTo(map_a694175f05fbaa08e6d763aafdeb0e34);
        
    
            var layer_control_54ccac9ba3d970ca78da39073c11d564_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_abeb1bd4a1d5020844371871e578cdaa,
                },
                overlays :  {
                    &quot;NDVI PERU 1999&quot; : tile_layer_3f099e61309dfb029367f5152f73d6ec,
                    &quot;NDVI PERU 2008&quot; : tile_layer_65d525891623e5bdc161d17aa834f2f2,
                },
            };
            let layer_control_54ccac9ba3d970ca78da39073c11d564 = L.control.layers(
                layer_control_54ccac9ba3d970ca78da39073c11d564_layers.base_layers,
                layer_control_54ccac9ba3d970ca78da39073c11d564_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_a694175f05fbaa08e6d763aafdeb0e34);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<section id="expressions">
<h2>Expressions<a class="headerlink" href="#expressions" title="Link to this heading">#</a></h2>
<p>To implement more complex mathematical expressions, it may be more convenient to use <strong><code class="docutils literal notranslate"><span class="pre">image.expression()</span></code></strong>, which parses a text representation of a math operation. The following example uses <strong><code class="docutils literal notranslate"><span class="pre">expression()</span></code></strong> to compute the Enhanced Vegetation Index (EVI):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a Landsat 8 image.</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1_TOA/LC08_044034_20140318&#39;</span><span class="p">)</span>

<span class="c1"># Compute the EVI using an expression.</span>
<span class="n">evi</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">expression</span><span class="p">(</span>
      <span class="s1">&#39;2.5 * ((NIR - RED) / (NIR + 6 * RED - 7.5 * BLUE + 1))&#39;</span><span class="p">,</span> <span class="p">{</span>
      <span class="s1">&#39;NIR&#39;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B5&#39;</span><span class="p">),</span>
      <span class="s1">&#39;RED&#39;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B4&#39;</span><span class="p">),</span>
      <span class="s1">&#39;BLUE&#39;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B2&#39;</span><span class="p">)})</span>

<span class="c1">#Display the map with folium!</span>
<span class="n">Eviviz</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;palette&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;FF0000&#39;</span><span class="p">,</span> <span class="s1">&#39;00FF00&#39;</span><span class="p">]}</span>
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;EVI 2014&quot;</span><span class="p">:</span> <span class="n">evi</span><span class="o">.</span><span class="n">getMapId</span><span class="p">(</span><span class="n">Eviviz</span><span class="p">)}</span>

<span class="n">center</span>  <span class="o">=</span> <span class="p">[</span><span class="mi">37</span><span class="p">,</span><span class="o">-</span><span class="mi">122</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_fae40c89d81ba74e276bee77e18cce55 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_fae40c89d81ba74e276bee77e18cce55&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_fae40c89d81ba74e276bee77e18cce55 = L.map(
                &quot;map_fae40c89d81ba74e276bee77e18cce55&quot;,
                {
                    center: [37.0, -122.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_4ee51be8de0cb8af0c0017cdf18aa811 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_4ee51be8de0cb8af0c0017cdf18aa811.addTo(map_fae40c89d81ba74e276bee77e18cce55);
        
    
            var tile_layer_8f9630f3c8b5cb7ff7269eec80686f78 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/e2fedda43ddc8668654de19dc5086891-cb6ed68d7cd3ef08dcf1234fd7698bfe/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_8f9630f3c8b5cb7ff7269eec80686f78.addTo(map_fae40c89d81ba74e276bee77e18cce55);
        
    
            var layer_control_564e2bd2043a8976bece660f80b55e0f_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_4ee51be8de0cb8af0c0017cdf18aa811,
                },
                overlays :  {
                    &quot;EVI 2014&quot; : tile_layer_8f9630f3c8b5cb7ff7269eec80686f78,
                },
            };
            let layer_control_564e2bd2043a8976bece660f80b55e0f = L.control.layers(
                layer_control_564e2bd2043a8976bece660f80b55e0f_layers.base_layers,
                layer_control_564e2bd2043a8976bece660f80b55e0f_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_fae40c89d81ba74e276bee77e18cce55);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>Observe that the first argument to expression is the textual representation of the math operation, the second argument is a dictionary where the keys are variable names used in the expression and the values are the image bands to which the variables should be mapped. Bands in the image may be referred to as <code class="docutils literal notranslate"><span class="pre">b(&quot;band</span> <span class="pre">name&quot;)</span></code> or <code class="docutils literal notranslate"><span class="pre">b(index)</span></code>, for example <code class="docutils literal notranslate"><span class="pre">b(0)</span></code>, instead of providing the dictionary. Note that division functions as it does in Python: dividing two integers results in an integer. For example <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">/</span> <span class="pre">20</span> <span class="pre">=</span> <span class="pre">0</span></code>. To change this behavior, multiply one of the operands by <code class="docutils literal notranslate"><span class="pre">1.0:</span> <span class="pre">10</span> <span class="pre">*</span> <span class="pre">1.0</span> <span class="pre">/</span> <span class="pre">20</span> <span class="pre">=</span> <span class="pre">0.5</span></code>. Supported expression operators are listed in the following table.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>_</p></th>
<th class="head"><p>_</p></th>
<th class="head"><p>Operators for expression()</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Arithmetic</p></td>
<td><p>+ - * / % **</p></td>
<td><p>Add, Subtract, Multiply, Divide, Modulus, Exponent</p></td>
</tr>
<tr class="row-odd"><td><p>Comparison</p></td>
<td><p>== != &lt; &gt; &lt;= &gt;=</p></td>
<td><p>Equal, Not Equal, Less Than, Greater than, etc.</p></td>
</tr>
<tr class="row-even"><td><p>Logical</p></td>
<td><p>&amp;&amp; || ! ^</p></td>
<td><p>And, Or, Not, Xor</p></td>
</tr>
<tr class="row-odd"><td><p>Ternary</p></td>
<td><p>? :</p></td>
<td><p>If then else</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="relational-conditional-and-boolean-operations">
<h1>5. Relational, conditional and Boolean operations<a class="headerlink" href="#relational-conditional-and-boolean-operations" title="Link to this heading">#</a></h1>
<p>To perform per-pixel comparisons between images, use relational operators. To extract urbanized areas in an image, this example uses relational operators to threshold spectral indices, combining the thresholds with and():</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a Landsat 8 image.</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1_TOA/LC08_044034_20140318&#39;</span><span class="p">)</span>

<span class="c1"># Create NDVI and NDWI spectral indices.</span>
<span class="n">ndvi</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">normalizedDifference</span><span class="p">([</span><span class="s1">&#39;B5&#39;</span><span class="p">,</span> <span class="s1">&#39;B4&#39;</span><span class="p">])</span>
<span class="n">ndwi</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">normalizedDifference</span><span class="p">([</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span> <span class="s1">&#39;B5&#39;</span><span class="p">])</span>

<span class="c1"># Create a binary layer using logical operations.</span>
<span class="n">bare</span> <span class="o">=</span> <span class="n">ndvi</span><span class="o">.</span><span class="n">lt</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span><span class="o">.</span><span class="n">And</span><span class="p">(</span><span class="n">ndwi</span><span class="o">.</span><span class="n">lt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="n">bare</span> <span class="o">=</span> <span class="n">bare</span><span class="o">.</span><span class="n">updateMask</span><span class="p">(</span><span class="n">bare</span><span class="p">)</span>
<span class="n">BareId</span> <span class="o">=</span> <span class="n">bare</span><span class="o">.</span><span class="n">getMapId</span><span class="p">()</span>

<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Bare&quot;</span><span class="p">:</span> <span class="n">BareId</span><span class="p">}</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.7726</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.3578</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_9c9a3f3a8e4673f472d5305074f92c9d {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_9c9a3f3a8e4673f472d5305074f92c9d&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_9c9a3f3a8e4673f472d5305074f92c9d = L.map(
                &quot;map_9c9a3f3a8e4673f472d5305074f92c9d&quot;,
                {
                    center: [37.7726, -122.3578],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_a13e2780d52d4b192803e480b622fabd = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_a13e2780d52d4b192803e480b622fabd.addTo(map_9c9a3f3a8e4673f472d5305074f92c9d);
        
    
            var tile_layer_583f086356e143af41527f49acfd871b = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/a4335623634f323fbe1ecdf68bb4b323-4861b10f4c9c3123492da17eaa711479/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_583f086356e143af41527f49acfd871b.addTo(map_9c9a3f3a8e4673f472d5305074f92c9d);
        
    
            var layer_control_cc55785a618346fb47a56f4887cf4a97_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_a13e2780d52d4b192803e480b622fabd,
                },
                overlays :  {
                    &quot;Bare&quot; : tile_layer_583f086356e143af41527f49acfd871b,
                },
            };
            let layer_control_cc55785a618346fb47a56f4887cf4a97 = L.control.layers(
                layer_control_cc55785a618346fb47a56f4887cf4a97_layers.base_layers,
                layer_control_cc55785a618346fb47a56f4887cf4a97_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_9c9a3f3a8e4673f472d5305074f92c9d);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>As illustrated by this example, the output of relational and boolean operators is either true (1) or false (0). To mask the 0’s, you can mask the resultant binary image with itself. The result from the previous example should look something.</p>
<p>The binary images that are returned by relational and boolean operators can be used with mathematical operators. This example creates zones of urbanization in a nighttime lights image using relational operators and image.add():</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a 2012 nightlights image.</span>
<span class="n">nl2012</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;NOAA/DMSP-OLS/NIGHTTIME_LIGHTS/F182012&#39;</span><span class="p">)</span>
<span class="n">lights</span> <span class="o">=</span> <span class="n">nl2012</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;stable_lights&#39;</span><span class="p">)</span>

<span class="c1"># Define arbitrary thresholds on the 6-bit stable lights band.</span>
<span class="n">zones</span> <span class="o">=</span> <span class="n">lights</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">lights</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">55</span><span class="p">))</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">lights</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">62</span><span class="p">))</span>

<span class="c1"># Display the thresholded image as three distinct zones near Paris.</span>
<span class="n">palette</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;000000&#39;</span><span class="p">,</span> <span class="s1">&#39;0000FF&#39;</span><span class="p">,</span> <span class="s1">&#39;00FF00&#39;</span><span class="p">,</span> <span class="s1">&#39;FF0000&#39;</span><span class="p">]</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">48.8683</span><span class="p">,</span> <span class="mf">2.373</span><span class="p">]</span>

<span class="n">zonesId</span> <span class="o">=</span> <span class="n">zones</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;palette&#39;</span><span class="p">:</span> <span class="n">palette</span><span class="p">})</span>
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Zonas&quot;</span><span class="p">:</span> <span class="n">zonesId</span><span class="p">}</span>

<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_f7ea432ff7bb48101fc911144341e8d0 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_f7ea432ff7bb48101fc911144341e8d0&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_f7ea432ff7bb48101fc911144341e8d0 = L.map(
                &quot;map_f7ea432ff7bb48101fc911144341e8d0&quot;,
                {
                    center: [48.8683, 2.373],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_b832fdb6639459f52c4f4692f6e4d7d1 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_b832fdb6639459f52c4f4692f6e4d7d1.addTo(map_f7ea432ff7bb48101fc911144341e8d0);
        
    
            var tile_layer_6b5f8806f53dfcd10811e7149ba6bb3a = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/3b294afb9d6534d0dc3d14a87d9effeb-620545da97015e66da6622274d8f5a7d/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_6b5f8806f53dfcd10811e7149ba6bb3a.addTo(map_f7ea432ff7bb48101fc911144341e8d0);
        
    
            var layer_control_22fc89f30d017a3bf8af8abea49eca84_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_b832fdb6639459f52c4f4692f6e4d7d1,
                },
                overlays :  {
                    &quot;Zonas&quot; : tile_layer_6b5f8806f53dfcd10811e7149ba6bb3a,
                },
            };
            let layer_control_22fc89f30d017a3bf8af8abea49eca84 = L.control.layers(
                layer_control_22fc89f30d017a3bf8af8abea49eca84_layers.base_layers,
                layer_control_22fc89f30d017a3bf8af8abea49eca84_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_f7ea432ff7bb48101fc911144341e8d0);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>Note that the code in the previous example is equivalent to using a ternary operator implemented by expression()</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">zonesExp</span> <span class="o">=</span> <span class="n">nl2012</span><span class="o">.</span><span class="n">expression</span><span class="p">(</span><span class="s2">&quot;(b(&#39;stable_lights&#39;) &gt; 62) ? 3: (b(&#39;stable_lights&#39;) &gt; 55) ? 2: (b(&#39;stable_lights&#39;) &gt; 30) ? 1: 0&quot;</span><span class="p">)</span>

<span class="n">zonesId</span> <span class="o">=</span> <span class="n">zonesExp</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;palette&#39;</span><span class="p">:</span> <span class="n">palette</span><span class="p">})</span>
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Zonas&quot;</span><span class="p">:</span> <span class="n">zonesId</span><span class="p">}</span>

<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_a03dcbd908622c09656a32a2ba0863d8 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_a03dcbd908622c09656a32a2ba0863d8&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_a03dcbd908622c09656a32a2ba0863d8 = L.map(
                &quot;map_a03dcbd908622c09656a32a2ba0863d8&quot;,
                {
                    center: [48.8683, 2.373],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_21e72794fa7e2c2228378c5cad72b087 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_21e72794fa7e2c2228378c5cad72b087.addTo(map_a03dcbd908622c09656a32a2ba0863d8);
        
    
            var tile_layer_9598bd685e925d131d14a7e6e2fcbf34 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/9c021d163b454b2089427836610931b6-2af646aff19c8d14d0d6d5181d7f645d/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_9598bd685e925d131d14a7e6e2fcbf34.addTo(map_a03dcbd908622c09656a32a2ba0863d8);
        
    
            var layer_control_f6da8c6e985c1cfa2c11740660e2a6a0_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_21e72794fa7e2c2228378c5cad72b087,
                },
                overlays :  {
                    &quot;Zonas&quot; : tile_layer_9598bd685e925d131d14a7e6e2fcbf34,
                },
            };
            let layer_control_f6da8c6e985c1cfa2c11740660e2a6a0 = L.control.layers(
                layer_control_f6da8c6e985c1cfa2c11740660e2a6a0_layers.base_layers,
                layer_control_f6da8c6e985c1cfa2c11740660e2a6a0_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_a03dcbd908622c09656a32a2ba0863d8);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>Another way to implement conditional operations on images is with the image.where() operator. Consider the need to replace masked pixels with some other data. In the following example, cloudy pixels are replaced by pixels from a cloud-free image using where()</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a cloudy Landsat 8 image.</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1_TOA/LC08_044034_20130603&#39;</span><span class="p">)</span>

<span class="c1"># Load another image to replace the cloudy pixels.</span>
<span class="n">replacement</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1_TOA/LC08_044034_20130416&#39;</span><span class="p">)</span>

<span class="c1"># Compute a cloud score band.</span>
<span class="n">cloud</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Algorithms</span><span class="o">.</span><span class="n">Landsat</span><span class="o">.</span><span class="n">simpleCloudScore</span><span class="p">(</span><span class="n">image</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;cloud&#39;</span><span class="p">)</span>

<span class="c1"># Set cloudy pixels to the other image.</span>
<span class="n">replaced</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">cloud</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">replacement</span><span class="p">)</span>

<span class="c1"># Display the result.</span>
<span class="n">replacedId</span> <span class="o">=</span> <span class="n">replaced</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;bands&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B5&#39;</span><span class="p">,</span> <span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">],</span> <span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">})</span>

<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Clouds replaced&quot;</span><span class="p">:</span> <span class="n">replacedId</span><span class="p">}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.5419</span><span class="p">,</span> <span class="o">-</span><span class="mf">121.9872</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_654fc9a2fd74d39c2ae54bc0601f9c77 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_654fc9a2fd74d39c2ae54bc0601f9c77&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_654fc9a2fd74d39c2ae54bc0601f9c77 = L.map(
                &quot;map_654fc9a2fd74d39c2ae54bc0601f9c77&quot;,
                {
                    center: [37.5419, -121.9872],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_c7e42d076838ebe9d5c6349745935e9a = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_c7e42d076838ebe9d5c6349745935e9a.addTo(map_654fc9a2fd74d39c2ae54bc0601f9c77);
        
    
            var tile_layer_f25907544829e5aaef712fb569338907 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/aa415c594bc5ab3d8b1937e6260e99d6-2b0b1170a6e7c649a593d30ea20e7a78/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_f25907544829e5aaef712fb569338907.addTo(map_654fc9a2fd74d39c2ae54bc0601f9c77);
        
    
            var layer_control_b62be3815d70bb75f30151abc504f86d_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_c7e42d076838ebe9d5c6349745935e9a,
                },
                overlays :  {
                    &quot;Clouds replaced&quot; : tile_layer_f25907544829e5aaef712fb569338907,
                },
            };
            let layer_control_b62be3815d70bb75f30151abc504f86d = L.control.layers(
                layer_control_b62be3815d70bb75f30151abc504f86d_layers.base_layers,
                layer_control_b62be3815d70bb75f30151abc504f86d_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_654fc9a2fd74d39c2ae54bc0601f9c77);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>In this example, observe the use of the simpleCloudScore() algorithm. This algorithm ranks pixels by cloudiness on a scale of 0-100, with 100 most cloudy. Learn more about simpleCloudScore() on the Landsat Algorithms page.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="convolutions">
<h1>6. Convolutions<a class="headerlink" href="#convolutions" title="Link to this heading">#</a></h1>
<p>To perform linear convolutions on images, use <strong>image.convolve()</strong>. The only argument to convolve is an ee.Kernel which is specified by a shape and the weights in the kernel. Each pixel of the image output by <strong>convolve()</strong> is the linear combination of the kernel values and the input image pixels covered by the kernel. The kernels are applied to each band individually. For example, you might want to use a low-pass (smoothing) kernel to remove high-frequency information. The following illustrates a 15x15 low-pass kernel applied to a Landsat 8 image</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load and display an image</span>
<span class="n">image</span>   <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1_TOA/LC08_044034_20140318&#39;</span><span class="p">)</span>

<span class="c1"># Define a boxcar or low-pass kernel</span>
<span class="n">boxcar</span>  <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Kernel</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;pixels&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

<span class="c1"># Smooth the image by convolving with the boxcar kernel</span>
<span class="n">smooth</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">convolve</span><span class="p">(</span><span class="n">boxcar</span><span class="p">)</span>
  
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;input image&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;bands&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B5&#39;</span><span class="p">,</span> <span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">],</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}),</span>
    <span class="s2">&quot;smoothed&quot;</span><span class="p">:</span> <span class="n">smooth</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;bands&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B5&#39;</span><span class="p">,</span> <span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">],</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">})</span>
<span class="p">}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.8694</span><span class="p">,</span> <span class="o">-</span><span class="mf">121.9785</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_acc8628ce71504f33cff7a9ef8cd0c47 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_acc8628ce71504f33cff7a9ef8cd0c47&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_acc8628ce71504f33cff7a9ef8cd0c47 = L.map(
                &quot;map_acc8628ce71504f33cff7a9ef8cd0c47&quot;,
                {
                    center: [37.8694, -121.9785],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_2ec08c2245a76552ae159ea5c5bb9370 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_2ec08c2245a76552ae159ea5c5bb9370.addTo(map_acc8628ce71504f33cff7a9ef8cd0c47);
        
    
            var tile_layer_daf27472c39fbcc2280be730ca330ebb = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/96b479b5de8a7482055c4436484a6da4-ec9dc96c7dfb897ce2a1597e9488852e/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_daf27472c39fbcc2280be730ca330ebb.addTo(map_acc8628ce71504f33cff7a9ef8cd0c47);
        
    
            var tile_layer_6069e099d192f5796678dbc69805be23 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/044bb64cecdb4f75443a09fa777f728e-a9e6b827521174ab5c13813d2af4ca33/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_6069e099d192f5796678dbc69805be23.addTo(map_acc8628ce71504f33cff7a9ef8cd0c47);
        
    
            var layer_control_11e6afd50f56b5368e2eeae33eb9e880_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_2ec08c2245a76552ae159ea5c5bb9370,
                },
                overlays :  {
                    &quot;input image&quot; : tile_layer_daf27472c39fbcc2280be730ca330ebb,
                    &quot;smoothed&quot; : tile_layer_6069e099d192f5796678dbc69805be23,
                },
            };
            let layer_control_11e6afd50f56b5368e2eeae33eb9e880 = L.control.layers(
                layer_control_11e6afd50f56b5368e2eeae33eb9e880_layers.base_layers,
                layer_control_11e6afd50f56b5368e2eeae33eb9e880_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_acc8628ce71504f33cff7a9ef8cd0c47);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>The output of convolution with the low-pass filter should look something like figure on top. Observe that the arguments to the kernel determine its size and coefficients. Specifically, with the units parameter set to pixels, the radius parameter specifies the number of pixels from the center that the kernel will cover. If normalize is set to true, the kernel coefficients will sum to one. If the magnitude parameter is set, the kernel coefficients will be multiplied by the magnitude (if normalize is also true, the coefficients will sum to magnitude). If there is a negative value in any of the kernel coefficients, setting normalize to true will make the coefficients sum to zero.</p>
<p>Use other kernels to achieve the desired image processing effect. This example uses a Laplacian kernel for isotropic edge detection</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define a Laplacian, or edge-detection kernel.</span>
<span class="n">laplacian</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Kernel</span><span class="o">.</span><span class="n">laplacian8</span><span class="p">(</span><span class="n">normalize</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>

<span class="c1"># Apply the edge-detection kernel.</span>
<span class="n">edgy</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">convolve</span><span class="p">(</span><span class="n">laplacian</span><span class="p">)</span>
  
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;edges&quot;</span><span class="p">:</span> <span class="n">edgy</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;bands&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B5&#39;</span><span class="p">,</span> <span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">],</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">})}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.8694</span><span class="p">,</span> <span class="o">-</span><span class="mf">121.9785</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_4c2b0ff5468a03aa283c8eb73f9f5316 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_4c2b0ff5468a03aa283c8eb73f9f5316&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_4c2b0ff5468a03aa283c8eb73f9f5316 = L.map(
                &quot;map_4c2b0ff5468a03aa283c8eb73f9f5316&quot;,
                {
                    center: [37.8694, -121.9785],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_47a0314318b735d335c309fb714c86b3 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_47a0314318b735d335c309fb714c86b3.addTo(map_4c2b0ff5468a03aa283c8eb73f9f5316);
        
    
            var tile_layer_f8b4348eac57d673da7a10d8e7fdae42 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/2c51e7b327128416de8e666ce15cdc7d-4a597693ae86689561925f16a03844a6/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_f8b4348eac57d673da7a10d8e7fdae42.addTo(map_4c2b0ff5468a03aa283c8eb73f9f5316);
        
    
            var layer_control_f545a84de77ab5bb8d1346a3784cd2d0_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_47a0314318b735d335c309fb714c86b3,
                },
                overlays :  {
                    &quot;edges&quot; : tile_layer_f8b4348eac57d673da7a10d8e7fdae42,
                },
            };
            let layer_control_f545a84de77ab5bb8d1346a3784cd2d0 = L.control.layers(
                layer_control_f545a84de77ab5bb8d1346a3784cd2d0_layers.base_layers,
                layer_control_f545a84de77ab5bb8d1346a3784cd2d0_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_4c2b0ff5468a03aa283c8eb73f9f5316);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>Note the format specifier in the visualization parameters. Earth Engine sends display tiles to the Code Editor in JPEG format for efficiency, however edge tiles are sent in PNG format to handle transparency of pixels outside the image boundary. When a visual discontinuity results, setting the format to PNG results in a consistent display. The result of convolving with the Laplacian edge detection kernel should look something like to figure on top.</p>
<p>There are also anisotropic edge detection kernels (e.g. Sobel, Prewitt, Roberts), the direction of which can be changed with kernel.rotate(). Other low pass kernels include a Gaussian kernel and kernels of various shape with uniform weights. To create kernels with arbitrarily defined weights and shape, use ee.Kernel.fixed(). For example, this code creates a 9x9 kernel of 1’s with a zero in the middle</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="c1"># Create a list of weights for a 9x9 kernel.</span>
<span class="n">lista</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="c1"># The center of the kernel is zero.</span>
<span class="n">centerList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="c1"># Assemble a list of lists: the 9x9 kernel weights as a 2-D matrix.</span>
<span class="n">lists</span> <span class="o">=</span> <span class="p">[</span><span class="n">lista</span><span class="p">,</span> <span class="n">lista</span><span class="p">,</span> <span class="n">lista</span><span class="p">,</span> <span class="n">lista</span><span class="p">,</span> <span class="n">centerList</span><span class="p">,</span> <span class="n">lista</span><span class="p">,</span> <span class="n">lista</span><span class="p">,</span> <span class="n">lista</span><span class="p">,</span> <span class="n">lista</span><span class="p">]</span>
<span class="c1"># Create the kernel from the weights.</span>
<span class="n">kernel</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Kernel</span><span class="o">.</span><span class="n">fixed</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="n">lists</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">kernel</span><span class="o">.</span><span class="n">getInfo</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;center&#39;: [4, 4],
 &#39;height&#39;: 9,
 &#39;type&#39;: &#39;Kernel.fixed&#39;,
 &#39;weights&#39;: &#39;\n&#39;
            &#39;  [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]\n&#39;
            &#39;  [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]\n&#39;
            &#39;  [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]\n&#39;
            &#39;  [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]\n&#39;
            &#39;  [1.0, 1.0, 1.0, 1.0, 0.0, 1.0, 1.0, 1.0, 1.0]\n&#39;
            &#39;  [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]\n&#39;
            &#39;  [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]\n&#39;
            &#39;  [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]\n&#39;
            &#39;  [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]&#39;,
 &#39;width&#39;: 9,
 &#39;x&#39;: 4,
 &#39;y&#39;: 4}
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="morphological-operations">
<h1>7. Morphological Operations<a class="headerlink" href="#morphological-operations" title="Link to this heading">#</a></h1>
<p>Earth Engine implements morphological operations as focal operations, specifically focal_max(), focal_min(), focal_median(), and focal_mode() instance methods in the Image class. (These are shortcuts for the more general reduceNeighborhood(), which can input the pixels in a kernel to any reducer with a numeric output. See this page for more information on reducing neighborhoods). The morphological operators are useful for performing operations such as erosion, dilation, opening and closing. For example, to perform an opening operation, use focal_min() followed by focal_max().</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a Landsat 8 image, select the NIR band, threshold, display.</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1_TOA/LC08_044034_20140318&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mf">0.2</span><span class="p">);</span>

<span class="c1"># Define a kernel.</span>
<span class="n">kernel</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Kernel</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Perform an erosion followed by a dilation, display.</span>
<span class="n">opened</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">focal_min</span><span class="p">(</span><span class="n">kernel</span><span class="o">=</span><span class="n">kernel</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">focal_max</span><span class="p">(</span><span class="n">kernel</span><span class="o">=</span><span class="n">kernel</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;NIR threshold&#39;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">getMapId</span><span class="p">(),</span>
         <span class="s1">&#39;opened&#39;</span>       <span class="p">:</span> <span class="n">opened</span><span class="o">.</span><span class="n">getMapId</span><span class="p">()}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.5010</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.1899</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_a2d940986bac6ec856377225a2afc9d7 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_a2d940986bac6ec856377225a2afc9d7&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_a2d940986bac6ec856377225a2afc9d7 = L.map(
                &quot;map_a2d940986bac6ec856377225a2afc9d7&quot;,
                {
                    center: [37.501, -122.1899],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_2ea40b2a2abc596c7838823502141320 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_2ea40b2a2abc596c7838823502141320.addTo(map_a2d940986bac6ec856377225a2afc9d7);
        
    
            var tile_layer_78d0bdf524cd579774c7d34e9f389660 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/2397b8ade394c48ab512930a9d3c8fdc-988a1d9cd8f9be180387505d5c7c7675/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_78d0bdf524cd579774c7d34e9f389660.addTo(map_a2d940986bac6ec856377225a2afc9d7);
        
    
            var tile_layer_f7c02ec9eb8305a18827cdaea94519b9 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/a898bea128b67e333792fc67bd18fcfc-54829879f852dde03531321357c2c0d7/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_f7c02ec9eb8305a18827cdaea94519b9.addTo(map_a2d940986bac6ec856377225a2afc9d7);
        
    
            var layer_control_f8ce4ab57b0b6d662d948dd4f87d5118_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_2ea40b2a2abc596c7838823502141320,
                },
                overlays :  {
                    &quot;NIR threshold&quot; : tile_layer_78d0bdf524cd579774c7d34e9f389660,
                    &quot;opened&quot; : tile_layer_f7c02ec9eb8305a18827cdaea94519b9,
                },
            };
            let layer_control_f8ce4ab57b0b6d662d948dd4f87d5118 = L.control.layers(
                layer_control_f8ce4ab57b0b6d662d948dd4f87d5118_layers.base_layers,
                layer_control_f8ce4ab57b0b6d662d948dd4f87d5118_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_a2d940986bac6ec856377225a2afc9d7);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>Note that in the previous example, a kernel argument is provided to the morphological operator. The pixels covered by non-zero elements of the kernel are used in the computation. The iterations argument indicates how many times to apply the operator.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="gradients">
<h1>8. Gradients<a class="headerlink" href="#gradients" title="Link to this heading">#</a></h1>
<p>You can compute the gradient of each band of an image with image.gradient(). For example, the following code computes the gradient magnitude and direction of the Landsat 8 panchromatic band</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a Landsat 8 image and select the panchromatic band.</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1/LC08_044034_20140318&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B8&#39;</span><span class="p">);</span>

<span class="c1"># Compute the image gradient in the X and Y directions.</span>
<span class="n">xyGrad</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">gradient</span><span class="p">();</span>

<span class="c1"># Compute the magnitude of the gradient.</span>
<span class="n">gradient</span> <span class="o">=</span> <span class="n">xyGrad</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">xyGrad</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">sqrt</span><span class="p">();</span>

<span class="c1"># Compute the direction of the gradient.</span>
<span class="n">direction</span> <span class="o">=</span> <span class="n">xyGrad</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">xyGrad</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">));</span>

<span class="c1"># Display the results.</span>
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;direction&#39;</span><span class="p">:</span> <span class="n">direction</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}),</span>
    <span class="s1">&#39;gradient&#39;</span> <span class="p">:</span> <span class="n">opened</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">})</span>
<span class="p">}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.7295</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.054</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_1823e6f62ba561a58e59d778a478fb93 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_1823e6f62ba561a58e59d778a478fb93&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_1823e6f62ba561a58e59d778a478fb93 = L.map(
                &quot;map_1823e6f62ba561a58e59d778a478fb93&quot;,
                {
                    center: [37.7295, -122.054],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_a537659354fe285dca193a63064f142c = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_a537659354fe285dca193a63064f142c.addTo(map_1823e6f62ba561a58e59d778a478fb93);
        
    
            var tile_layer_28739708b7a54512a02bb764f120cb95 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/32ac7c4305d3e84535bf5559f76a7e3c-a0a0929bcdb32c1eecce811b7f458163/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_28739708b7a54512a02bb764f120cb95.addTo(map_1823e6f62ba561a58e59d778a478fb93);
        
    
            var tile_layer_15059373c6ff480c107bbae6275849c1 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/5e69cfef1692022d7d631dff88b3d837-5cb0b3bcc1655597796a1525211b4885/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_15059373c6ff480c107bbae6275849c1.addTo(map_1823e6f62ba561a58e59d778a478fb93);
        
    
            var layer_control_b4fa2dc14e4b9c3af43e607098c6c2de_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_a537659354fe285dca193a63064f142c,
                },
                overlays :  {
                    &quot;direction&quot; : tile_layer_28739708b7a54512a02bb764f120cb95,
                    &quot;gradient&quot; : tile_layer_15059373c6ff480c107bbae6275849c1,
                },
            };
            let layer_control_b4fa2dc14e4b9c3af43e607098c6c2de = L.control.layers(
                layer_control_b4fa2dc14e4b9c3af43e607098c6c2de_layers.base_layers,
                layer_control_b4fa2dc14e4b9c3af43e607098c6c2de_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_1823e6f62ba561a58e59d778a478fb93);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="edge-detection">
<h1>9. Edge Detection<a class="headerlink" href="#edge-detection" title="Link to this heading">#</a></h1>
<p>Edge detection is applicable to a wide range of image processing tasks. In addition to the edge detection kernels described in the convolutions section, there are several specialized edge detection algorithms in Earth Engine. The Canny edge detection algorithm (Canny 1986) uses four separate filters to identify the diagonal, vertical, and horizontal edges. The calculation extracts the first derivative value for the horizontal and vertical directions and computes the gradient magnitude. Gradients of smaller magnitude are suppressed. To eliminate high-frequency noise, optionally pre-filter the image with a Gaussian kernel.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a Landsat 8 image, select the panchromatic band.</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1/LC08_044034_20140318&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B8&#39;</span><span class="p">)</span>

<span class="n">canny</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Algorithms</span><span class="o">.</span><span class="n">CannyEdgeDetector</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="c1"># Display the results.</span>
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;canny&#39;</span><span class="p">:</span> <span class="n">canny</span><span class="o">.</span><span class="n">getMapId</span><span class="p">()}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.7295</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.054</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_8285181d7c7924dddb0b94f4c0293bf3 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_8285181d7c7924dddb0b94f4c0293bf3&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_8285181d7c7924dddb0b94f4c0293bf3 = L.map(
                &quot;map_8285181d7c7924dddb0b94f4c0293bf3&quot;,
                {
                    center: [37.7295, -122.054],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_bc47e8fd86b3d1afbc32006eab33928e = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_bc47e8fd86b3d1afbc32006eab33928e.addTo(map_8285181d7c7924dddb0b94f4c0293bf3);
        
    
            var tile_layer_3428bfc94198bdd7c11924a6c82a4f7b = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/7f52fa300fd528548c985043576b6afe-c9875bfa6f3be50af802a510fc174a8f/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_3428bfc94198bdd7c11924a6c82a4f7b.addTo(map_8285181d7c7924dddb0b94f4c0293bf3);
        
    
            var layer_control_5d54e0c98e6774f801a2e1666500d654_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_bc47e8fd86b3d1afbc32006eab33928e,
                },
                overlays :  {
                    &quot;canny&quot; : tile_layer_3428bfc94198bdd7c11924a6c82a4f7b,
                },
            };
            let layer_control_5d54e0c98e6774f801a2e1666500d654 = L.control.layers(
                layer_control_5d54e0c98e6774f801a2e1666500d654_layers.base_layers,
                layer_control_5d54e0c98e6774f801a2e1666500d654_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_8285181d7c7924dddb0b94f4c0293bf3);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>Note that the threshold parameter determines the minimum gradient magnitude and the sigma parameter is the standard deviation (SD) of a Gaussian pre-filter to remove high-frequency noise. For line extraction from an edge detector, Earth Engine implements the Hough transform (Duda and Hart 1972). Now extract lines from the Canny detector.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Perform Hough transform of the Canny result and display.</span>
<span class="n">hough</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Algorithms</span><span class="o">.</span><span class="n">HoughTransform</span><span class="p">(</span><span class="n">canny</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>

<span class="c1"># Display the results.</span>
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;hough&#39;</span><span class="p">:</span> <span class="n">hough</span><span class="o">.</span><span class="n">getMapId</span><span class="p">()}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.7295</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.054</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_627ac5e264d8c95d6e537538ac173ff3 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_627ac5e264d8c95d6e537538ac173ff3&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_627ac5e264d8c95d6e537538ac173ff3 = L.map(
                &quot;map_627ac5e264d8c95d6e537538ac173ff3&quot;,
                {
                    center: [37.7295, -122.054],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_f74fdd52b3a45331297dd4d255fc689f = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_f74fdd52b3a45331297dd4d255fc689f.addTo(map_627ac5e264d8c95d6e537538ac173ff3);
        
    
            var tile_layer_a89d4ea8395692090d10c3e6b679081c = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/cdcb6e7a2e078b6684b2e832899acc5f-4d4992c0ead306c72f169a9e26d5b02c/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_a89d4ea8395692090d10c3e6b679081c.addTo(map_627ac5e264d8c95d6e537538ac173ff3);
        
    
            var layer_control_fb873ff6a0240068284fb6c0cc8ffe5b_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_f74fdd52b3a45331297dd4d255fc689f,
                },
                overlays :  {
                    &quot;hough&quot; : tile_layer_a89d4ea8395692090d10c3e6b679081c,
                },
            };
            let layer_control_fb873ff6a0240068284fb6c0cc8ffe5b = L.control.layers(
                layer_control_fb873ff6a0240068284fb6c0cc8ffe5b_layers.base_layers,
                layer_control_fb873ff6a0240068284fb6c0cc8ffe5b_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_627ac5e264d8c95d6e537538ac173ff3);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>Another specialized algorithm in Earth Engine is zeroCrossing(). A zero-crossing is defined as any pixel where the right, bottom, or diagonal bottom-right pixel has the opposite sign. If any of these pixels is of opposite sign, the current pixel is set to 1 (zero-crossing); otherwise it’s set to zero. To detect edges, the zero-crossings algorithm can be applied to an estimate of the image second derivative. The following demonstrates using zeroCrossing() for edge detection.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a Landsat 8 image, select the panchromatic band.</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1/LC08_044034_20140318&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B8&#39;</span><span class="p">)</span>

<span class="c1"># Define a &quot;fat&quot; Gaussian kernel.</span>
<span class="n">fat</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Kernel</span><span class="o">.</span><span class="n">gaussian</span><span class="p">(</span>
  <span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
  <span class="n">sigma</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
  <span class="n">units</span><span class="o">=</span><span class="s1">&#39;pixels&#39;</span><span class="p">,</span>
  <span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
  <span class="n">magnitude</span><span class="o">=-</span><span class="mi">1</span>
<span class="p">)</span>

<span class="c1"># Define a &quot;skinny&quot; Gaussian kernel.</span>
<span class="n">skinny</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Kernel</span><span class="o">.</span><span class="n">gaussian</span><span class="p">(</span>
  <span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
  <span class="n">sigma</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
  <span class="n">units</span><span class="o">=</span><span class="s1">&#39;pixels&#39;</span><span class="p">,</span>
  <span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Compute a difference-of-Gaussians (DOG) kernel.</span>
<span class="n">dog</span> <span class="o">=</span> <span class="n">fat</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">skinny</span><span class="p">)</span>

<span class="c1"># Compute the zero crossings of the second derivative, display.</span>
<span class="n">zeroXings</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">convolve</span><span class="p">(</span><span class="n">dog</span><span class="p">)</span><span class="o">.</span><span class="n">zeroCrossing</span><span class="p">()</span>

<span class="c1"># Display the results.</span>
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">12000</span><span class="p">}),</span>
    <span class="s1">&#39;zero crossings&#39;</span><span class="p">:</span> <span class="n">zeroXings</span><span class="o">.</span><span class="n">updateMask</span><span class="p">(</span><span class="n">zeroXings</span><span class="p">)</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;palette&#39;</span><span class="p">:</span> <span class="s1">&#39;FF0000&#39;</span><span class="p">})</span>
<span class="p">}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.7295</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.054</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_124b5e3f25569549c08f45cb888e4ee6 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_124b5e3f25569549c08f45cb888e4ee6&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_124b5e3f25569549c08f45cb888e4ee6 = L.map(
                &quot;map_124b5e3f25569549c08f45cb888e4ee6&quot;,
                {
                    center: [37.7295, -122.054],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_a6983fd3108e33cc37fcc86d914045fe = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_a6983fd3108e33cc37fcc86d914045fe.addTo(map_124b5e3f25569549c08f45cb888e4ee6);
        
    
            var tile_layer_6f5b32252522a0a6af02d8916a1900f8 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/da3185560099923e38b7fea0eadd9541-954b4e15bfaf42b9d1263181068aa8cc/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_6f5b32252522a0a6af02d8916a1900f8.addTo(map_124b5e3f25569549c08f45cb888e4ee6);
        
    
            var tile_layer_692c6886e05695cea8170645f91fa9be = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/d0c9a4867dcb05c610844583fbb0ae75-78f48612fd9baf4c9ac5e87ea584e76e/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_692c6886e05695cea8170645f91fa9be.addTo(map_124b5e3f25569549c08f45cb888e4ee6);
        
    
            var layer_control_f4f1fa9f2e99336a70af9e7c8ab9eaa0_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_a6983fd3108e33cc37fcc86d914045fe,
                },
                overlays :  {
                    &quot;image&quot; : tile_layer_6f5b32252522a0a6af02d8916a1900f8,
                    &quot;zero crossings&quot; : tile_layer_692c6886e05695cea8170645f91fa9be,
                },
            };
            let layer_control_f4f1fa9f2e99336a70af9e7c8ab9eaa0 = L.control.layers(
                layer_control_f4f1fa9f2e99336a70af9e7c8ab9eaa0_layers.base_layers,
                layer_control_f4f1fa9f2e99336a70af9e7c8ab9eaa0_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_124b5e3f25569549c08f45cb888e4ee6);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>Zero-crossings output (red) with the Landsat 8 panchromatic band in the background for an area near the San Francisco, California airport (right).</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="spectral-transformations">
<h1>10. Spectral Transformations<a class="headerlink" href="#spectral-transformations" title="Link to this heading">#</a></h1>
<p>There are several spectral transformation methods in Earth Engine. These include instance methods on images such as normalizedDifference(), unmix(), rgbToHsv() and hsvToRgb(). The latter two methods are useful for pan sharpening.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a Landsat 8 top-of-atmosphere reflectance image.</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1_TOA/LC08_044034_20140318&#39;</span><span class="p">)</span>

<span class="c1"># Convert the RGB bands to the HSV color space.</span>
<span class="n">hsv</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">,</span> <span class="s1">&#39;B2&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">rgbToHsv</span><span class="p">()</span>

<span class="c1"># Swap in the panchromatic band and convert back to RGB.</span>
<span class="n">sharpened</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span>
  <span class="n">hsv</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;hue&#39;</span><span class="p">),</span> <span class="n">hsv</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;saturation&#39;</span><span class="p">),</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B8&#39;</span><span class="p">)</span>
<span class="p">])</span><span class="o">.</span><span class="n">hsvToRgb</span><span class="p">()</span>

<span class="c1"># Display the results.</span>
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;rgb&#39;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;bands&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">,</span> <span class="s1">&#39;B2&#39;</span><span class="p">],</span> 
                           <span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
                           <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span> 
                           <span class="s1">&#39;gamma&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]}),</span>
    <span class="s1">&#39;pan-sharpened&#39;</span><span class="p">:</span> <span class="n">sharpened</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> 
                                         <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span> 
                                         <span class="s1">&#39;gamma&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.3</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">]})</span>
<span class="p">}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.76664</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.44829</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_84dafccb3326985f9e68d95da40cb5a2 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_84dafccb3326985f9e68d95da40cb5a2&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_84dafccb3326985f9e68d95da40cb5a2 = L.map(
                &quot;map_84dafccb3326985f9e68d95da40cb5a2&quot;,
                {
                    center: [37.76664, -122.44829],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_b79681881a1c521f61274b98b3490347 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_b79681881a1c521f61274b98b3490347.addTo(map_84dafccb3326985f9e68d95da40cb5a2);
        
    
            var tile_layer_58e803cd060bef743fe1dddcbf1d0182 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/4ed00770e2e38276bde7a58f7052e6e4-74e1991d6a55f42a9d8b0d639d8a3926/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_58e803cd060bef743fe1dddcbf1d0182.addTo(map_84dafccb3326985f9e68d95da40cb5a2);
        
    
            var tile_layer_1b0b9b53d12260c25ada086faa8d13eb = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/5994b7ca10563950820c39a571c63263-580466125825976567e807e1d7ca1c3e/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_1b0b9b53d12260c25ada086faa8d13eb.addTo(map_84dafccb3326985f9e68d95da40cb5a2);
        
    
            var layer_control_75d12f72118e974ddd1f4c4c47ed990d_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_b79681881a1c521f61274b98b3490347,
                },
                overlays :  {
                    &quot;rgb&quot; : tile_layer_58e803cd060bef743fe1dddcbf1d0182,
                    &quot;pan-sharpened&quot; : tile_layer_1b0b9b53d12260c25ada086faa8d13eb,
                },
            };
            let layer_control_75d12f72118e974ddd1f4c4c47ed990d = L.control.layers(
                layer_control_75d12f72118e974ddd1f4c4c47ed990d_layers.base_layers,
                layer_control_75d12f72118e974ddd1f4c4c47ed990d_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_84dafccb3326985f9e68d95da40cb5a2);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>Spectral unmixing is implemented in Earth Engine as the image.unmix() method. (For more flexible methods, see the Array Transformations page). The following is an example of unmixing Landsat 5 with predetermined urban, vegetation and water endmembers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a Landsat 5 image and select the bands we want to unmix.</span>
<span class="n">bands</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span> <span class="s1">&#39;B2&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">,</span> <span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B5&#39;</span><span class="p">,</span> <span class="s1">&#39;B6&#39;</span><span class="p">,</span> <span class="s1">&#39;B7&#39;</span><span class="p">];</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LT05/C02/T1/LT05_044034_20080214&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">bands</span><span class="p">)</span>

<span class="c1"># Define spectral endmembers.</span>
<span class="n">urban</span> <span class="o">=</span> <span class="p">[</span><span class="mi">88</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">59</span><span class="p">]</span>
<span class="n">veg</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">23</span><span class="p">]</span>
<span class="n">water</span> <span class="o">=</span> <span class="p">[</span><span class="mi">51</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>

<span class="c1"># Unmix the image.</span>
<span class="n">fractions</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">unmix</span><span class="p">([</span><span class="n">urban</span><span class="p">,</span> <span class="n">veg</span><span class="p">,</span> <span class="n">water</span><span class="p">])</span>

<span class="c1"># Display the results.</span>
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;bands&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">,</span> <span class="s1">&#39;B2&#39;</span><span class="p">],</span> <span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">128</span><span class="p">}),</span>
    <span class="s1">&#39;unmixed&#39;</span><span class="p">:</span> <span class="n">fractions</span><span class="o">.</span><span class="n">getMapId</span><span class="p">()</span>
<span class="p">}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.5010</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.1899</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_31635fedd4838456544a615308844e66 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_31635fedd4838456544a615308844e66&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_31635fedd4838456544a615308844e66 = L.map(
                &quot;map_31635fedd4838456544a615308844e66&quot;,
                {
                    center: [37.501, -122.1899],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_198a7913f5b108fbab19cfce49abb9d4 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_198a7913f5b108fbab19cfce49abb9d4.addTo(map_31635fedd4838456544a615308844e66);
        
    
            var tile_layer_cfa070105da7c588d98e7e4d18557f94 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/ef241f598545921642a14b7ec9ded213-84b236a78552c94f01e5083a8e7a0f69/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_cfa070105da7c588d98e7e4d18557f94.addTo(map_31635fedd4838456544a615308844e66);
        
    
            var tile_layer_e5841a5eec88f06c7742dd752c4466f5 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/9eb01a2380a7fcdfeaf355bd4677d262-91647e8fddd9f303eb72f252ab78083b/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_e5841a5eec88f06c7742dd752c4466f5.addTo(map_31635fedd4838456544a615308844e66);
        
    
            var layer_control_cc0b662cbc845c3b945b06cc4f7d38cc_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_198a7913f5b108fbab19cfce49abb9d4,
                },
                overlays :  {
                    &quot;image&quot; : tile_layer_cfa070105da7c588d98e7e4d18557f94,
                    &quot;unmixed&quot; : tile_layer_e5841a5eec88f06c7742dd752c4466f5,
                },
            };
            let layer_control_cc0b662cbc845c3b945b06cc4f7d38cc = L.control.layers(
                layer_control_cc0b662cbc845c3b945b06cc4f7d38cc_layers.base_layers,
                layer_control_cc0b662cbc845c3b945b06cc4f7d38cc_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_31635fedd4838456544a615308844e66);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>The unmixing result should look something like figure on top.
Landsat 5 imagery unmixed to urban (red), vegetation (green) and water (blue) fractions. San Francisco bay area, California, USA.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="texture">
<h1>11. Texture<a class="headerlink" href="#texture" title="Link to this heading">#</a></h1>
<p>Earth Engine has several special methods for estimating spatial texture. When the image is discrete valued (not floating point), you can use image.entropy() to compute the entropy in a neighborhood</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a high-resolution NAIP image.</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;USDA/NAIP/DOQQ/m_3712213_sw_10_1_20140613&#39;</span><span class="p">)</span>

<span class="c1"># Get the NIR band.</span>
<span class="n">nir</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;N&#39;</span><span class="p">)</span>

<span class="c1"># Define a neighborhood with a kernel.</span>
<span class="n">square</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Kernel</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="c1"># Compute entropy and display.</span>
<span class="n">entropy</span> <span class="o">=</span> <span class="n">nir</span><span class="o">.</span><span class="n">entropy</span><span class="p">(</span><span class="n">square</span><span class="p">)</span>

<span class="c1"># Display the results.</span>
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">255</span><span class="p">}),</span>
    <span class="s1">&#39;entropy&#39;</span><span class="p">:</span> <span class="n">entropy</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;palette&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;0000CC&#39;</span><span class="p">,</span> <span class="s1">&#39;CC0000&#39;</span><span class="p">]})</span>
<span class="p">}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.769833</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.466123</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_937929b04300b554f23faede9d541b2e {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_937929b04300b554f23faede9d541b2e&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_937929b04300b554f23faede9d541b2e = L.map(
                &quot;map_937929b04300b554f23faede9d541b2e&quot;,
                {
                    center: [37.769833, -122.466123],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_2475c785b61c3a2e37edc779b0bb6b23 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_2475c785b61c3a2e37edc779b0bb6b23.addTo(map_937929b04300b554f23faede9d541b2e);
        
    
            var tile_layer_31eb8dd7542d5d461fc89a6ac993db67 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/9e30dfd94d3b8f671087a236d76ccb7e-ef8fe9b99dec29994c9104195c45bfc2/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_31eb8dd7542d5d461fc89a6ac993db67.addTo(map_937929b04300b554f23faede9d541b2e);
        
    
            var tile_layer_66feff1bed81bad6d74698da16ab9b7c = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/d0cd6c4d86707e4852bf049add52b743-139d07f9ff1570844610fa9df150cb16/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_66feff1bed81bad6d74698da16ab9b7c.addTo(map_937929b04300b554f23faede9d541b2e);
        
    
            var layer_control_04bb012de0cb4a9e96d0e55885e4453e_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_2475c785b61c3a2e37edc779b0bb6b23,
                },
                overlays :  {
                    &quot;image&quot; : tile_layer_31eb8dd7542d5d461fc89a6ac993db67,
                    &quot;entropy&quot; : tile_layer_66feff1bed81bad6d74698da16ab9b7c,
                },
            };
            let layer_control_04bb012de0cb4a9e96d0e55885e4453e = L.control.layers(
                layer_control_04bb012de0cb4a9e96d0e55885e4453e_layers.base_layers,
                layer_control_04bb012de0cb4a9e96d0e55885e4453e_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_937929b04300b554f23faede9d541b2e);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>Note that the NIR band is scaled to 8-bits prior to calling entropy() since the entropy computation takes discrete valued inputs. The non-zero elements in the kernel specify the neighborhood.</p>
<p>Another way to measure texture is with a gray-level co-occurrence matrix (GLCM). Using the image and kernel from the previous example, compute the GLCM-based contrast as follows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute the gray-level co-occurrence matrix (GLCM), get contrast.</span>
<span class="n">glcm</span> <span class="o">=</span> <span class="n">nir</span><span class="o">.</span><span class="n">glcmTexture</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">contrast</span> <span class="o">=</span> <span class="n">glcm</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;N_contrast&#39;</span><span class="p">)</span>

<span class="c1"># Display the results.</span>
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;contrast&#39;</span><span class="p">:</span> <span class="n">contrast</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span> <span class="s1">&#39;palette&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;0000CC&#39;</span><span class="p">,</span> <span class="s1">&#39;CC0000&#39;</span><span class="p">]})</span>
<span class="p">}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.769833</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.466123</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_e3b1046bc99bcefcc9aa795cb8f39919 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_e3b1046bc99bcefcc9aa795cb8f39919&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_e3b1046bc99bcefcc9aa795cb8f39919 = L.map(
                &quot;map_e3b1046bc99bcefcc9aa795cb8f39919&quot;,
                {
                    center: [37.769833, -122.466123],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_d3d36a2a40d8c2e1f70bc160f91ec8db = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_d3d36a2a40d8c2e1f70bc160f91ec8db.addTo(map_e3b1046bc99bcefcc9aa795cb8f39919);
        
    
            var tile_layer_3676d793559ef133640810e261ee5598 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/dc846306cfade0fcc7c52b2747682b4b-b8c51ce29a46a997f59f1bf70e78b50e/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_3676d793559ef133640810e261ee5598.addTo(map_e3b1046bc99bcefcc9aa795cb8f39919);
        
    
            var layer_control_f156d141bc717d17f80b1b740f05296d_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_d3d36a2a40d8c2e1f70bc160f91ec8db,
                },
                overlays :  {
                    &quot;contrast&quot; : tile_layer_3676d793559ef133640810e261ee5598,
                },
            };
            let layer_control_f156d141bc717d17f80b1b740f05296d = L.control.layers(
                layer_control_f156d141bc717d17f80b1b740f05296d_layers.base_layers,
                layer_control_f156d141bc717d17f80b1b740f05296d_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_e3b1046bc99bcefcc9aa795cb8f39919);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>Many measures of texture are output by image.glcm(). For a complete reference on the outputs, see Haralick et al. (1973) and Conners et al. (1984).</p>
<p>Local measures of spatial association such as Geary’s C (Anselin 1995) can be computed in Earth Engine using image.neighborhoodToBands().</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="c1"># Create a list of weights for a 9x9 kernel.</span>
<span class="n">lista</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="c1"># The center of the kernel is zero.</span>
<span class="n">centerList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="c1"># Assemble a list of lists: the 9x9 kernel weights as a 2-D matrix.</span>
<span class="n">lists</span> <span class="o">=</span> <span class="p">[</span><span class="n">lista</span><span class="p">,</span> <span class="n">lista</span><span class="p">,</span> <span class="n">lista</span><span class="p">,</span> <span class="n">lista</span><span class="p">,</span> <span class="n">centerList</span><span class="p">,</span> <span class="n">lista</span><span class="p">,</span> <span class="n">lista</span><span class="p">,</span> <span class="n">lista</span><span class="p">,</span> <span class="n">lista</span><span class="p">]</span>
<span class="c1"># Create the kernel from the weights.</span>
<span class="c1"># Non-zero weights represent the spatial neighborhood.</span>
<span class="n">kernel</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Kernel</span><span class="o">.</span><span class="n">fixed</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="n">lists</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

<span class="c1"># Convert the neighborhood into multiple bands.</span>
<span class="n">neighs</span> <span class="o">=</span> <span class="n">nir</span><span class="o">.</span><span class="n">neighborhoodToBands</span><span class="p">(</span><span class="n">kernel</span><span class="p">)</span>

<span class="c1"># Compute local Geary&#39;s C, a measure of spatial association.</span>
<span class="n">gearys</span> <span class="o">=</span> <span class="n">nir</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">neighs</span><span class="p">)</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Reducer</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="c1"># Display the results.</span>
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Geary&#39;s C&quot;</span><span class="p">:</span> <span class="n">gearys</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">2500</span><span class="p">,</span> <span class="s1">&#39;palette&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;0000CC&#39;</span><span class="p">,</span> <span class="s1">&#39;CC0000&#39;</span><span class="p">]})</span>
<span class="p">}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.769833</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.466123</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_0b9047ad2b9986a0b80e4122040c558f {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_0b9047ad2b9986a0b80e4122040c558f&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_0b9047ad2b9986a0b80e4122040c558f = L.map(
                &quot;map_0b9047ad2b9986a0b80e4122040c558f&quot;,
                {
                    center: [37.769833, -122.466123],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_6c11e5235b1cbcdd815f11050adfea23 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_6c11e5235b1cbcdd815f11050adfea23.addTo(map_0b9047ad2b9986a0b80e4122040c558f);
        
    
            var tile_layer_9a78d86ad51fb74f8b36dffb86c2a99b = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/1649e529f5417a1b17d3fdbfba5bcfaf-da076cc1965826bbfde2338ecc1484fa/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_9a78d86ad51fb74f8b36dffb86c2a99b.addTo(map_0b9047ad2b9986a0b80e4122040c558f);
        
    
            var layer_control_21fda50c0bcab20e14209ee7f160c90d_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_6c11e5235b1cbcdd815f11050adfea23,
                },
                overlays :  {
                    &quot;Geary\u0027s C&quot; : tile_layer_9a78d86ad51fb74f8b36dffb86c2a99b,
                },
            };
            let layer_control_21fda50c0bcab20e14209ee7f160c90d = L.control.layers(
                layer_control_21fda50c0bcab20e14209ee7f160c90d_layers.base_layers,
                layer_control_21fda50c0bcab20e14209ee7f160c90d_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_0b9047ad2b9986a0b80e4122040c558f);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>For an example of using neighborhood standard deviation to compute image texture, see the <a class="reference external" href="https://developers.google.com/earth-engine/reducers_reduce_neighborhood">Statistics of Image Neighborhoods</a> page.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="object-based-methods">
<h1>12. Object-based Methods<a class="headerlink" href="#object-based-methods" title="Link to this heading">#</a></h1>
<p>For treating landscape elements as objects, Earth Engine contains several methods. Specifically, when an image has distinct patches identified by unique pixel values, use image.connectedPixelCount() to compute the number of pixels in each patch and image.connectedComponents() to label each patch with a unique identifier. The unique identifiers can then be used to enumerate the patches and analyze the distribution of size or some other quality of interest. The following computes the size and unique identifiers of hot patches in a surface temperature image.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load a Landsat 8 image and display the thermal band.</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T1_TOA/LC08_044034_20140318&#39;</span><span class="p">)</span>

<span class="c1"># Threshold the thermal band to find &quot;hot&quot; objects.</span>
<span class="n">hotspots</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;B10&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">303</span><span class="p">)</span>

<span class="c1"># Mask &quot;cold&quot; pixels.</span>
<span class="n">hotspots</span> <span class="o">=</span> <span class="n">hotspots</span><span class="o">.</span><span class="n">updateMask</span><span class="p">(</span><span class="n">hotspots</span><span class="p">)</span>

<span class="c1"># Compute the number of pixels in each patch.</span>
<span class="n">patchsize</span> <span class="o">=</span> <span class="n">hotspots</span><span class="o">.</span><span class="n">connectedPixelCount</span><span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

<span class="c1"># Uniquely label the patches and visualize.</span>
<span class="n">patchid</span> <span class="o">=</span> <span class="n">hotspots</span><span class="o">.</span><span class="n">connectedComponents</span><span class="p">(</span><span class="n">ee</span><span class="o">.</span><span class="n">Kernel</span><span class="o">.</span><span class="n">plus</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">256</span><span class="p">)</span>
    
<span class="c1"># Display the results.</span>
<span class="n">tiles</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;LST&quot;</span><span class="p">:</span> <span class="n">image</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;bands&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B10&#39;</span><span class="p">],</span> <span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">270</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">310</span><span class="p">}),</span>
    <span class="s2">&quot;hotspots&quot;</span><span class="p">:</span> <span class="n">hotspots</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;palette&#39;</span><span class="p">:</span> <span class="s1">&#39;FF0000&#39;</span><span class="p">}),</span>
    <span class="s2">&quot;patchsize&quot;</span><span class="p">:</span> <span class="n">patchsize</span><span class="o">.</span><span class="n">getMapId</span><span class="p">(),</span>
    <span class="s2">&quot;patches&quot;</span><span class="p">:</span> <span class="n">patchid</span><span class="o">.</span><span class="n">getMapId</span><span class="p">()</span>
<span class="p">}</span>

<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">37.5010</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.1899</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_8aacb054ef4ba1813dbfa5b068c41f80 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_8aacb054ef4ba1813dbfa5b068c41f80&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_8aacb054ef4ba1813dbfa5b068c41f80 = L.map(
                &quot;map_8aacb054ef4ba1813dbfa5b068c41f80&quot;,
                {
                    center: [37.501, -122.1899],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_08395a36537b9cdcff7974b39839c7ba = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_08395a36537b9cdcff7974b39839c7ba.addTo(map_8aacb054ef4ba1813dbfa5b068c41f80);
        
    
            var tile_layer_a5f715b9631da0dd44022adf1daa5740 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/7dcf799d4db63df6fedf398f483caa7e-632de58c99b13cef0ab0bed04fdd9289/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_a5f715b9631da0dd44022adf1daa5740.addTo(map_8aacb054ef4ba1813dbfa5b068c41f80);
        
    
            var tile_layer_7ac48371a79da2729655a7fdbfc88354 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/406bd2b5fcaf0c7ee3b6fe7cb28a1b74-d6871c6dc2fd53a40c1ed30138951403/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_7ac48371a79da2729655a7fdbfc88354.addTo(map_8aacb054ef4ba1813dbfa5b068c41f80);
        
    
            var tile_layer_6127aa2662b68a427c434069a2c3cc03 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/86e6126f275d9888fa08bc9643eb5d5a-ef5a14fa283b81e4e34df5b0b71ad564/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_6127aa2662b68a427c434069a2c3cc03.addTo(map_8aacb054ef4ba1813dbfa5b068c41f80);
        
    
            var tile_layer_10758cd360352282d632eb50956a46fe = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/5c9494638385b419e7185fceebf85c43-40de512aa5f2d546b041f586f7564d3b/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_10758cd360352282d632eb50956a46fe.addTo(map_8aacb054ef4ba1813dbfa5b068c41f80);
        
    
            var layer_control_652594a4952acdb7dbbcada2e0cda01e_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_08395a36537b9cdcff7974b39839c7ba,
                },
                overlays :  {
                    &quot;LST&quot; : tile_layer_a5f715b9631da0dd44022adf1daa5740,
                    &quot;hotspots&quot; : tile_layer_7ac48371a79da2729655a7fdbfc88354,
                    &quot;patchsize&quot; : tile_layer_6127aa2662b68a427c434069a2c3cc03,
                    &quot;patches&quot; : tile_layer_10758cd360352282d632eb50956a46fe,
                },
            };
            let layer_control_652594a4952acdb7dbbcada2e0cda01e = L.control.layers(
                layer_control_652594a4952acdb7dbbcada2e0cda01e_layers.base_layers,
                layer_control_652594a4952acdb7dbbcada2e0cda01e_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_8aacb054ef4ba1813dbfa5b068c41f80);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>In the previous example, note that the maximum patch size is set to 256 pixels by the arguments to the connectedPixelCount() and connectedComponents() methods. The connectivity is also specified by the arguments, in the former method by a boolean and in the latter method by an ee.Kernel. In this example, only four neighbors are considered for each pixel.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="cumulative-cost-mapping">
<h1>13. Cumulative Cost Mapping<a class="headerlink" href="#cumulative-cost-mapping" title="Link to this heading">#</a></h1>
<p>Use image.cumulativeCost() to compute a cost map where every pixel contains the total cost of the lowest cost path to the nearest source location. This process is useful in a variety of contexts such as habitat analysis (Adriaensen et al. 2003), watershed delineation (Melles et al. 2011) and image segmentation (Falcao et al. 2004). Call the cumulative cost function on an image in which each pixel represents the cost per meter to traverse it. Paths are computed through any of a pixel’s eight neighbors. Required inputs include a source image, in which each non-zero pixel represents a potential source (or start of a path), and a maxDistance (in meters) over which to compute paths. The algorithm finds the cumulative cost of all paths less than maxPixels = maxDistance/scale in length, where scale is the pixel resolution, or scale of analysis in Earth Engine.</p>
<p>The following example demonstrates computing least-cost paths across a land cover image.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A rectangle representing Bangui, Central African Republic.</span>
<span class="n">geometry</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">([</span><span class="mf">18.5229</span><span class="p">,</span> <span class="mf">4.3491</span><span class="p">,</span> <span class="mf">18.5833</span><span class="p">,</span> <span class="mf">4.4066</span><span class="p">])</span>

<span class="c1"># Create a source image where the geometry is 1, everything else is 0.</span>
<span class="n">sources</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">()</span><span class="o">.</span><span class="n">toByte</span><span class="p">()</span><span class="o">.</span><span class="n">paint</span><span class="p">(</span><span class="n">geometry</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Mask the sources image with itself.</span>
<span class="n">sources</span> <span class="o">=</span> <span class="n">sources</span><span class="o">.</span><span class="n">updateMask</span><span class="p">(</span><span class="n">sources</span><span class="p">)</span>

<span class="c1"># The cost data is generated from classes in ESA/GLOBCOVER.</span>
<span class="n">cover</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;ESA/GLOBCOVER_L4_200901_200912_V2_3&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Classes 60, 80, 110, 140 have cost 1.</span>
<span class="c1"># Classes 40, 90, 120, 130, 170 have cost 2.</span>
<span class="c1"># Classes 50, 70, 150, 160 have cost 3.</span>
<span class="n">cost</span> <span class="o">=</span> <span class="n">cover</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span><span class="o">.</span><span class="n">Or</span><span class="p">(</span><span class="n">cover</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">80</span><span class="p">))</span><span class="o">.</span><span class="n">Or</span><span class="p">(</span><span class="n">cover</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">110</span><span class="p">))</span><span class="o">.</span><span class="n">Or</span><span class="p">(</span><span class="n">cover</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">140</span><span class="p">))</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cover</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span><span class="o">.</span><span class="n">Or</span><span class="p">(</span><span class="n">cover</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">90</span><span class="p">))</span><span class="o">.</span><span class="n">Or</span><span class="p">(</span><span class="n">cover</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">120</span><span class="p">))</span><span class="o">.</span><span class="n">Or</span><span class="p">(</span><span class="n">cover</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">130</span><span class="p">))</span><span class="o">.</span><span class="n">Or</span><span class="p">(</span><span class="n">cover</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">170</span><span class="p">))</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cover</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="o">.</span><span class="n">Or</span><span class="p">(</span><span class="n">cover</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">70</span><span class="p">))</span><span class="o">.</span><span class="n">Or</span><span class="p">(</span><span class="n">cover</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">150</span><span class="p">))</span><span class="o">.</span><span class="n">Or</span><span class="p">(</span><span class="n">cover</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">160</span><span class="p">))</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>

<span class="c1"># Compute the cumulative cost to traverse the land cover.</span>
<span class="n">cumulativeCost</span> <span class="o">=</span> <span class="n">cost</span><span class="o">.</span><span class="n">cumulativeCost</span><span class="p">(</span>
  <span class="n">source</span> <span class="o">=</span> <span class="n">sources</span><span class="p">,</span>
  <span class="n">maxDistance</span> <span class="o">=</span> <span class="mi">80</span> <span class="o">*</span> <span class="mi">1000</span> <span class="c1"># 80 kilometers</span>
<span class="p">)</span>

<span class="n">dicc</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Globcover&#39;</span><span class="p">:</span> <span class="n">cover</span><span class="o">.</span><span class="n">getMapId</span><span class="p">(),</span>
    <span class="s1">&#39;accumulated cost&#39;</span><span class="p">:</span> <span class="n">cumulativeCost</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">5e4</span><span class="p">}),</span>
    <span class="s2">&quot;source geometry&quot;</span><span class="p">:</span> <span class="n">geometry</span><span class="o">.</span><span class="n">getInfo</span><span class="p">()</span>
<span class="p">}</span>

<span class="c1"># Display the results</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">4.2</span><span class="p">,</span> <span class="mf">18.71</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">dicc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_8982be149bf9d68e05ab4c161b763347 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_8982be149bf9d68e05ab4c161b763347&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_8982be149bf9d68e05ab4c161b763347 = L.map(
                &quot;map_8982be149bf9d68e05ab4c161b763347&quot;,
                {
                    center: [4.2, 18.71],
                    crs: L.CRS.EPSG3857,
                    zoom: 10,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_be7e3838ae0859e16f7c657e8afa122f = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_be7e3838ae0859e16f7c657e8afa122f.addTo(map_8982be149bf9d68e05ab4c161b763347);
        
    
            var tile_layer_77c3ebb9c2f6cd96f9f18f510f53a87b = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/2415eb2d76f2dc0435ca10a5d26d9169-4373395f20dc6dd621cdc917ae573bee/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_77c3ebb9c2f6cd96f9f18f510f53a87b.addTo(map_8982be149bf9d68e05ab4c161b763347);
        
    
            var tile_layer_9f26a10c3a24950705220bbcaca459ab = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/06c3665acfb7392d9b7011a53ec1b95a-87171036b9ef2659c85bbd928c196930/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_9f26a10c3a24950705220bbcaca459ab.addTo(map_8982be149bf9d68e05ab4c161b763347);
        
    

        function geo_json_d3fb5077f5bb0ddd997aa9ffcaaafc5f_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_d3fb5077f5bb0ddd997aa9ffcaaafc5f = L.geoJson(null, {
                onEachFeature: geo_json_d3fb5077f5bb0ddd997aa9ffcaaafc5f_onEachFeature,
            
        });

        function geo_json_d3fb5077f5bb0ddd997aa9ffcaaafc5f_add (data) {
            geo_json_d3fb5077f5bb0ddd997aa9ffcaaafc5f
                .addData(data);
        }
            geo_json_d3fb5077f5bb0ddd997aa9ffcaaafc5f_add({&quot;coordinates&quot;: [[[18.5229, 4.3491], [18.5833, 4.3491], [18.5833, 4.4066], [18.5229, 4.4066], [18.5229, 4.3491]]], &quot;type&quot;: &quot;Polygon&quot;});
        geo_json_d3fb5077f5bb0ddd997aa9ffcaaafc5f.setStyle(function(feature) {return feature.properties.style;});

        
    
            geo_json_d3fb5077f5bb0ddd997aa9ffcaaafc5f.addTo(map_8982be149bf9d68e05ab4c161b763347);
        
    
            var layer_control_e9441ebcfadfa04f414306962f01b22e_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_be7e3838ae0859e16f7c657e8afa122f,
                },
                overlays :  {
                    &quot;Globcover&quot; : tile_layer_77c3ebb9c2f6cd96f9f18f510f53a87b,
                    &quot;accumulated cost&quot; : tile_layer_9f26a10c3a24950705220bbcaca459ab,
                    &quot;source geometry&quot; : geo_json_d3fb5077f5bb0ddd997aa9ffcaaafc5f,
                },
            };
            let layer_control_e9441ebcfadfa04f414306962f01b22e = L.control.layers(
                layer_control_e9441ebcfadfa04f414306962f01b22e_layers.base_layers,
                layer_control_e9441ebcfadfa04f414306962f01b22e_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_8982be149bf9d68e05ab4c161b763347);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>The top figure in which each output pixel represents the accumulated cost to the nearest source. Note that discontinuities can appear in places where the least cost path to the nearest source exceeds maxPixels in length.</p>
<p>The cumulative cost to the source pixels, where cost is determined by the land cover categories. Low costs are black, higher costs are white.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="registering-images">
<h1>14. Registering Images<a class="headerlink" href="#registering-images" title="Link to this heading">#</a></h1>
<p>The Earth Engine image registration algorithm is designed to be a final, post-ortho, fine-grained step in aligning images. It is assumed that the images to be registered have already gone through initial alignment stages, so they are already within a few degrees of rotation of one another, and differ by only small translations. The registration uses a “rubber-sheet” technique, allowing local image warping to correct for orthorectification errors and other artifacts from earlier processing. The underlying alignment technique is image correlation, so the bands for the input and reference images must be visually similar in order for the algorithm to compute an accurate alignment.</p>
<section id="image-displacement">
<h2>Image displacement<a class="headerlink" href="#image-displacement" title="Link to this heading">#</a></h2>
<p>There are two steps to registering an image: Determining the displacement image using <strong>displacement()</strong>, and then applying it with <strong>displace()</strong>. The required inputs are the pair of images to register, and a maximum displacement parameter <strong>(maxOffset)</strong>.</p>
<p>The <strong>displacement()</strong> algorithm takes a reference image, a maximum displacement parameter <strong>(maxOffset)</strong>, and two optional parameters that modify the algorithm behaviour. The output is a displacement image with bands <strong>dx</strong> and <strong>dy</strong> which give the X and Y components (in meters) of the displacement vector at each pixel.</p>
<p>All bands of the calling and reference images are used for matching during registration, so the number of bands must be exactly equal. The input bands must be visually similar for registration to succeed. If that is not the case, it may be possible to pre-process them (e.g. smoothing, edge detection) to make them appear more similar. The registration computations are performed using a multiscale, coarse-to-fine process, with (multiscale) working projections that depend on three of the projections supplied to the algorithm:</p>
<ol class="arabic simple">
<li><p>The default projection of the calling image (Pc)</p></li>
<li><p>The default projection of the reference image (Pr)</p></li>
<li><p>The output projection (Po)</p></li>
</ol>
<p>The highest resolution working projection (<em>Pw</em> will be in the CRS of <em>Pr</em>, at a scale determined by the coarsest resolution of these 3 projections, to minimize computation. The results from Pr are then resampled to be in the projection specified by the input <strong>‘projection’</strong> parameter.</p>
<p>The output is a displacement image with the following bands:</p>
<p><strong>dx:</strong></p>
<p>For a given reference image pixel location, this band contains the distance in the Y direction that must be travelled to arrive at the matching location in the calling image. Units are in geodesic meters.</p>
<p><strong>dy:</strong></p>
<p>For a given reference image pixel location, this band contains the distance in the Y direction that must be travelled to arrive at the matching location in the calling image. Units are in geodesic meters.</p>
<p><strong>confidence:</strong></p>
<p>This is a per-pixel estimate of displacement confidence (where 0 is low confidence and 1 is high confidence) based on the correlation scores in regions where valid matches were found. In regions where no matches were found, confidence is estimated from nearby correlations using a Gaussian kernel to provide higher weight to nearby correlations.</p>
<p>The following example computes the magnitude and angle of displacement between two high-resolution Terra Bella images:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the two images to be registered.</span>
<span class="n">image1</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;SKYSAT/GEN-A/PUBLIC/ORTHO/MULTISPECTRAL/s01_20150502T082736Z&#39;</span><span class="p">)</span>
<span class="n">image2</span> <span class="o">=</span> <span class="n">ee</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;SKYSAT/GEN-A/PUBLIC/ORTHO/MULTISPECTRAL/s01_20150305T081019Z&#39;</span><span class="p">)</span>

<span class="c1"># Use bicubic resampling during registration.</span>
<span class="n">image1Orig</span> <span class="o">=</span> <span class="n">image1</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;bicubic&#39;</span><span class="p">)</span>
<span class="n">image2Orig</span> <span class="o">=</span> <span class="n">image2</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;bicubic&#39;</span><span class="p">)</span>

<span class="c1"># Choose to register using only the &#39;R&#39; band.</span>
<span class="n">image1RedBand</span> <span class="o">=</span> <span class="n">image1Orig</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;R&#39;</span><span class="p">)</span>
<span class="n">image2RedBand</span> <span class="o">=</span> <span class="n">image2Orig</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;R&#39;</span><span class="p">)</span>

<span class="c1"># Determine the displacement by matching only the &#39;R&#39; bands.</span>
<span class="n">displacement</span> <span class="o">=</span> <span class="n">image2RedBand</span><span class="o">.</span><span class="n">displacement</span><span class="p">(</span>
  <span class="n">referenceImage</span> <span class="o">=</span> <span class="n">image1RedBand</span><span class="p">,</span>
  <span class="n">maxOffset</span>  <span class="o">=</span> <span class="mf">50.0</span><span class="p">,</span>
  <span class="n">patchWidth</span> <span class="o">=</span> <span class="mf">100.0</span>
<span class="p">)</span>

<span class="c1"># Compute image offset and direction.</span>
<span class="n">offset</span> <span class="o">=</span> <span class="n">displacement</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;dx&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="n">displacement</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;dy&#39;</span><span class="p">))</span>
<span class="n">angle</span> <span class="o">=</span> <span class="n">displacement</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;dx&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">displacement</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;dy&#39;</span><span class="p">))</span>

<span class="n">dicc</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;offset&#39;</span><span class="p">:</span> <span class="n">offset</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;min&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}),</span>
    <span class="s1">&#39;angle&#39;</span><span class="p">:</span> <span class="n">angle</span><span class="o">.</span><span class="n">getMapId</span><span class="p">({</span><span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">})</span>
<span class="p">}</span>

<span class="c1"># Display the results</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.58</span><span class="p">,</span> <span class="mf">37.44</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">dicc</span><span class="p">,</span><span class="n">zoom_start</span><span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_69e47d299c863f36f200a910a6b558f7 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_69e47d299c863f36f200a910a6b558f7&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_69e47d299c863f36f200a910a6b558f7 = L.map(
                &quot;map_69e47d299c863f36f200a910a6b558f7&quot;,
                {
                    center: [0.58, 37.44],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_d72358c9f1a4b2c8bda6d5adc97169a2 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_d72358c9f1a4b2c8bda6d5adc97169a2.addTo(map_69e47d299c863f36f200a910a6b558f7);
        
    
            var tile_layer_d8b35fa2b40c9d465a41ae6e0240077f = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/b7ac29a9b34f52ca100c7ea8b0f6aa96-55fd177b29d5b17bfc0fd5b0fff69e22/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_d8b35fa2b40c9d465a41ae6e0240077f.addTo(map_69e47d299c863f36f200a910a6b558f7);
        
    
            var tile_layer_7c6dbfef607d1b015785a97fead0fb82 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/d620c3148c07964445fe803dfee61f5a-2a62687f18dd773bbd95220d459f94d5/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_7c6dbfef607d1b015785a97fead0fb82.addTo(map_69e47d299c863f36f200a910a6b558f7);
        
    
            var layer_control_efd2d120c7911cbdfbea85007e710947_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_d72358c9f1a4b2c8bda6d5adc97169a2,
                },
                overlays :  {
                    &quot;offset&quot; : tile_layer_d8b35fa2b40c9d465a41ae6e0240077f,
                    &quot;angle&quot; : tile_layer_7c6dbfef607d1b015785a97fead0fb82,
                },
            };
            let layer_control_efd2d120c7911cbdfbea85007e710947 = L.control.layers(
                layer_control_efd2d120c7911cbdfbea85007e710947_layers.base_layers,
                layer_control_efd2d120c7911cbdfbea85007e710947_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_69e47d299c863f36f200a910a6b558f7);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
</section>
<section id="warping-an-image">
<h2>Warping an image<a class="headerlink" href="#warping-an-image" title="Link to this heading">#</a></h2>
<p>There are two ways to warp an image to match another image: <strong>displace()</strong> or <strong>register()</strong>. The <strong>displace()</strong> algorithm takes a displacement image having <strong>dx</strong> and dy bands as the first two bands, and warps the image accordingly. The output image will be the result of warping the bands of the input image by the offsets present in the displacement image. Using the displacements computed in the previous example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use the computed displacement to register all original bands.</span>
<span class="n">registered</span> <span class="o">=</span> <span class="n">image2Orig</span><span class="o">.</span><span class="n">displace</span><span class="p">(</span><span class="n">displacement</span><span class="p">)</span>

<span class="c1"># Show the results of co-registering the images.</span>
<span class="n">visParams</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;bands&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">],</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mi">4000</span><span class="p">}</span>

<span class="n">dicc</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Reference&#39;</span><span class="p">:</span> <span class="n">image1Orig</span><span class="o">.</span><span class="n">getMapId</span><span class="p">(</span><span class="n">visParams</span><span class="p">),</span>
    <span class="s1">&#39;Before Registration&#39;</span><span class="p">:</span> <span class="n">image2Orig</span><span class="o">.</span><span class="n">getMapId</span><span class="p">(</span><span class="n">visParams</span><span class="p">),</span>
    <span class="s1">&#39;After Registration&#39;</span><span class="p">:</span>  <span class="n">registered</span><span class="o">.</span><span class="n">getMapId</span><span class="p">(</span><span class="n">visParams</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># Display the results</span>
<span class="n">coords</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.58</span><span class="p">,</span> <span class="mf">37.44</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="n">dicc</span><span class="p">,</span> <span class="n">zoom_start</span><span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_2f54afbd782018bbd036bf9561667c6a {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_2f54afbd782018bbd036bf9561667c6a&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_2f54afbd782018bbd036bf9561667c6a = L.map(
                &quot;map_2f54afbd782018bbd036bf9561667c6a&quot;,
                {
                    center: [0.58, 37.44],
                    crs: L.CRS.EPSG3857,
                    zoom: 15,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_d923ebef63d210f4f89eb6a83b21eea0 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_d923ebef63d210f4f89eb6a83b21eea0.addTo(map_2f54afbd782018bbd036bf9561667c6a);
        
    
            var tile_layer_b301984d9e533fda78f7c779a2f448b2 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/94b4284b55984f90dcc18c3a55927db8-83a0b7468ec176b64502a07e7ffe3183/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_b301984d9e533fda78f7c779a2f448b2.addTo(map_2f54afbd782018bbd036bf9561667c6a);
        
    
            var tile_layer_265d13bb7fbc4cc55e416f6e4c168396 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/6cca357e18a490e876c38144484f0289-3fcf0a21dc82c995c71a4abda8a67c8e/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_265d13bb7fbc4cc55e416f6e4c168396.addTo(map_2f54afbd782018bbd036bf9561667c6a);
        
    
            var tile_layer_d3051fa62a6fca8a10550aa4a7375296 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/64ba5256d730bb32d3171e700b7c195e-65a1c9cf9244a2a7a1cee5c59bbea243/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_d3051fa62a6fca8a10550aa4a7375296.addTo(map_2f54afbd782018bbd036bf9561667c6a);
        
    
            var layer_control_f0b9486942ae3dc0aaddda497f7bfa1c_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_d923ebef63d210f4f89eb6a83b21eea0,
                },
                overlays :  {
                    &quot;Reference&quot; : tile_layer_b301984d9e533fda78f7c779a2f448b2,
                    &quot;Before Registration&quot; : tile_layer_265d13bb7fbc4cc55e416f6e4c168396,
                    &quot;After Registration&quot; : tile_layer_d3051fa62a6fca8a10550aa4a7375296,
                },
            };
            let layer_control_f0b9486942ae3dc0aaddda497f7bfa1c = L.control.layers(
                layer_control_f0b9486942ae3dc0aaddda497f7bfa1c_layers.base_layers,
                layer_control_f0b9486942ae3dc0aaddda497f7bfa1c_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_2f54afbd782018bbd036bf9561667c6a);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>If you don’t need the displacement bands, Earth Engine provides the <strong>register()</strong> method, which is a shortcut for calling <strong>displacement()</strong> followed by <strong>displace()</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alsoRegistered</span> <span class="o">=</span> <span class="n">image2Orig</span><span class="o">.</span><span class="n">register</span><span class="p">(</span>
  <span class="n">referenceImage</span> <span class="o">=</span> <span class="n">image1Orig</span><span class="p">,</span>
  <span class="n">maxOffset</span> <span class="o">=</span> <span class="mf">50.0</span><span class="p">,</span>
  <span class="n">patchWidth</span> <span class="o">=</span> <span class="mf">100.0</span>
<span class="p">)</span>

<span class="n">dicc</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Also Registered&#39;</span><span class="p">:</span> <span class="n">alsoRegistered</span><span class="o">.</span><span class="n">getMapId</span><span class="p">(</span><span class="n">visParams</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># Display the results</span>
<span class="n">coords</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.58</span><span class="p">,</span> <span class="mf">37.44</span><span class="p">]</span>
<span class="n">Mapdisplay</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="n">dicc</span><span class="p">,</span> <span class="n">zoom_start</span><span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_3898e2fe3f4676713a57ca5058d2bb41 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_3898e2fe3f4676713a57ca5058d2bb41&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_3898e2fe3f4676713a57ca5058d2bb41 = L.map(
                &quot;map_3898e2fe3f4676713a57ca5058d2bb41&quot;,
                {
                    center: [0.58, 37.44],
                    crs: L.CRS.EPSG3857,
                    zoom: 15,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_ecde39e53c83a84f134f774db90e56d0 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {&quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 19, &quot;maxZoom&quot;: 19, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_ecde39e53c83a84f134f774db90e56d0.addTo(map_3898e2fe3f4676713a57ca5058d2bb41);
        
    
            var tile_layer_17d9c4eb68ff779d762721f2787a5281 = L.tileLayer(
                &quot;https://earthengine.googleapis.com/v1/projects/ee-ivanlizarazo/maps/736943542f6b442eb53adabf1e917d84-44cea3109c56d21ecc1df115e3e130e4/tiles/{z}/{x}/{y}&quot;,
                {&quot;attribution&quot;: &quot;Google Earth Engine&quot;, &quot;detectRetina&quot;: false, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_17d9c4eb68ff779d762721f2787a5281.addTo(map_3898e2fe3f4676713a57ca5058d2bb41);
        
    
            var layer_control_0f64d9b2627036231bf090832f0c7c2c_layers = {
                base_layers : {
                    &quot;openstreetmap&quot; : tile_layer_ecde39e53c83a84f134f774db90e56d0,
                },
                overlays :  {
                    &quot;Also Registered&quot; : tile_layer_17d9c4eb68ff779d762721f2787a5281,
                },
            };
            let layer_control_0f64d9b2627036231bf090832f0c7c2c = L.control.layers(
                layer_control_0f64d9b2627036231bf090832f0c7c2c_layers.base_layers,
                layer_control_0f64d9b2627036231bf090832f0c7c2c_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_3898e2fe3f4676713a57ca5058d2bb41);

        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div></div></div>
</div>
<p>In this example, the results of <strong>register()</strong> differ from the results of <strong>displace()</strong>. This is because a different set of bands was used in the two approaches: <strong>register()</strong> always uses all bands of the input images, while the <strong>displacement()</strong> example used only the red band before feeding the result to <strong>displace()</strong>. Note that when multiple bands are used, if band variances are very different this could over-weight the high-variance bands, since the bands are jointly normalized when their spatial correlation scores are combined. This illustrates the importance of selecting band(s) that are visually the most similar when registering. As in the previous example, use <strong>displacement()</strong> and <strong>displace()</strong> for control over which bands are used to compute displacement.</p>
<!--NAVIGATION-->
<p>&lt; <a class="reference internal" href="#1_Introduction.ipynb"><span class="xref myst">Developer’s Guide</span></a> | <a class="reference internal" href="#index.ipynb"><span class="xref myst">Contents</span></a> |  <a class="reference internal" href="#3_eeImageCollection.ipynb"><span class="xref myst">ImageCollection</span></a>&gt;</p>
<p><a href="https://colab.research.google.com/github/csaybar/EEwPython/blob/master/3_eeImageCollection.ipynb"><img align="left" src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open in Colab" title="Open and Execute in Google Colaboratory"></a></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Welcome to the GEE Book</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">GEE Image Objects</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#image-overview">1. Image Overview</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#image-vizualization">2. Image Vizualization</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#masking">Masking</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clipping">Clipping</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rendering-categorical-maps">Rendering categorical maps</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#image-information-and-metadata">3. Image information and metadata</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mathematical-expressions">4. Mathematical Expressions</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#expressions">Expressions</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#relational-conditional-and-boolean-operations">5. Relational, conditional and Boolean operations</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#convolutions">6. Convolutions</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#morphological-operations">7. Morphological Operations</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#gradients">8. Gradients</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#edge-detection">9. Edge Detection</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#spectral-transformations">10. Spectral Transformations</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#texture">11. Texture</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#object-based-methods">12. Object-based Methods</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cumulative-cost-mapping">13. Cumulative Cost Mapping</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#registering-images">14. Registering Images</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#image-displacement">Image displacement</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#warping-an-image">Warping an image</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Ivan Lizarazo
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>